{"version":3,"sources":["webpack:///src/components/setting/relevance.vue","webpack:///./src/components/setting/relevance.vue?c33a","webpack:///./src/components/setting/relevance.vue"],"names":["relevance","data","modal5","targetKeys","targetKeys1","data1","newTargetKeys","direction","moveKeys","methods","renders","item","label","ok","_this","this","Axios","post","supplierId","$route","query","id","platFormIds","then","res","code","$Message","success","warning","message","handleChange","console","log","renders1","handleChange1","brandIds","terraceList","get","params","status","i","push","key","abbrPlatformName","terraceList1","brandList","abbrBrandName","brandList1","mounted","setting_relevance","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","border","margin","_v","style","background","height","attrs","slot","width","target-keys","list-style","titles","operations","render-format","on","on-change","title","on-ok","model","value","callback","$$v","expression","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.b8c70c24b9e418762149.js","sourcesContent":["<template>\n  <div class=\"content\">\n    <Card style=\"border:none;margin: 16px 0;\">\n      <div class=\"ivu-page-header-title\">关联设置</div>\n    </Card>\n    <Card :style=\"{margin: '16px 20px', background: '#fff',height:'auto'}\">\n      <p slot=\"title\">\n        关联平台\n      </p>\n      <div style=\"margin: 0 auto;width: 600px;\">\n        <Transfer\n          :data=\"data\"\n          :target-keys=\"targetKeys\"\n          :list-style=\"{\n                    width: '250px',\n                    height: '300px'\n                }\"\n          :titles=\"['全部平台','已关联平台']\"\n          :operations=\"['取消','关联']\"\n          :render-format=\"renders\"\n          @on-change=\"handleChange\"></Transfer>\n      </div>\n    </Card>\n    <Card :style=\"{margin: '16px 20px', background: '#fff',height:'auto'}\">\n      <p slot=\"title\">\n        关联品牌\n      </p>\n      <div style=\"margin: 0 auto;width: 600px;\">\n        <Transfer\n          :data=\"data1\"\n          :target-keys=\"targetKeys1\"\n          :list-style=\"{\n                    width: '250px',\n                    height: '300px'\n                }\"\n          :titles=\"['全部品牌','已关联品牌']\"\n          :operations=\"['取消','关联']\"\n          :render-format=\"renders1\"\n          @on-change=\"handleChange1\"></Transfer>\n      </div>\n    </Card>\n    <Modal\n      v-model=\"modal5\"\n      title=\"提示\"\n      width=\"300\"\n      @on-ok=\"ok\">\n      <p>选中平台下的商品将全部{{direction === 'right'?'上架':'下架'}}，是否确认？</p>\n    </Modal>\n  </div>\n</template>\n<script>\n  export default {\n    data() {\n      return {\n        modal5: false,\n        targetKeys: [],\n        data: [],\n        targetKeys1: [],\n        data1: [],\n        newTargetKeys: '',\n        direction: '',\n        moveKeys: ''\n      }\n    },\n    methods: {\n      renders(item) {\n        return item.label;\n      },\n      ok() {\n        const _this = this;\n        _this.Axios.post(_this.direction === 'right' ? '/Manage/Supplier/relevancePlatform' : '/Manage/SkuInfo/cancelRelevancPlatform', {\n          supplierId: _this.$route.query.id,\n          platFormIds: _this.moveKeys\n        }).then(res => {\n          if (res.data.code === 0) {\n            _this.targetKeys = _this.newTargetKeys;\n            _this.$Message.success('成功')\n          } else {\n            _this.$Message.warning(res.data.message)\n          }\n        });\n      },\n      handleChange(newTargetKeys, direction, moveKeys) {\n        console.log(moveKeys)\n        const _this = this;\n        _this.newTargetKeys = newTargetKeys;\n        _this.direction = direction;\n        _this.moveKeys = moveKeys;\n        _this.modal5 = true;\n      },\n      renders1(item) {\n        return item.label;\n      },\n      handleChange1(newTargetKeys, direction, moveKeys) {\n        const _this = this;\n        _this.Axios.post(direction === 'right' ? '/Manage/Supplier/relevanceBrand' : '/Manage/Supplier/cancelRelevancBrand', {\n          supplierId: _this.$route.query.id,\n          brandIds: direction === 'right' ? newTargetKeys : moveKeys\n        }).then(res => {\n          if (res.data.code === 0) {\n            _this.targetKeys1 = newTargetKeys;\n            _this.$Message.success('成功')\n          } else {\n            _this.$Message.warning(res.data.message)\n          }\n        });\n      },\n\n\n      //获取平台列表\n      terraceList() {\n        const _this = this;\n        _this.Axios.get('/Manage/Platform/list', {\n          params: {\n            status: true\n          }\n        }).then(res => {\n          for (let i in res.data.data) {\n            _this.data.push({\n              \"key\": res.data.data[i].id,\n              \"label\": res.data.data[i].abbrPlatformName,\n            })\n          }\n        })\n      },\n\n      //获取已选中平台列表\n      terraceList1() {\n        const _this = this;\n        _this.Axios.get('/Manage/Supplier/suppPlatRelation', {\n          params: {\n            supplierId: _this.$route.query.id\n          }\n        }).then(res => {\n          for (let i in res.data.data) {\n            _this.targetKeys.push(res.data.data[i].id)\n          }\n        })\n      },\n\n      //获取品牌列表\n      brandList() {\n        const _this = this;\n        _this.Axios.get('/Manage/Brand/list').then(res => {\n          console.log(res.data)\n          for (let i in res.data.data) {\n            _this.data1.push({\n              \"key\": res.data.data[i].id,\n              \"label\": res.data.data[i].abbrBrandName,\n            })\n          }\n        })\n      },\n\n      //获取已选中品牌列表\n      brandList1() {\n        const _this = this;\n        _this.Axios.get('/Manage/Brand/suppBrandRelation', {\n          params: {\n            supplierId: _this.$route.query.id\n          }\n        }).then(res => {\n          _this.targetKeys1 = [];\n          for (let i in res.data.data) {\n            _this.targetKeys1.push(res.data.data[i].id)\n          }\n        })\n      }\n    },\n    mounted() {\n      this.terraceList();\n      this.terraceList1();\n      this.brandList();\n      this.brandList1()\n    }\n  }\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .ivu-btn-small {\n    padding: 1px 7px 3px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/setting/relevance.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('Card',{staticStyle:{\"border\":\"none\",\"margin\":\"16px 0\"}},[_c('div',{staticClass:\"ivu-page-header-title\"},[_vm._v(\"关联设置\")])]),_vm._v(\" \"),_c('Card',{style:({margin: '16px 20px', background: '#fff',height:'auto'})},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      关联平台\\n    \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"600px\"}},[_c('Transfer',{attrs:{\"data\":_vm.data,\"target-keys\":_vm.targetKeys,\"list-style\":{\n                  width: '250px',\n                  height: '300px'\n              },\"titles\":['全部平台','已关联平台'],\"operations\":['取消','关联'],\"render-format\":_vm.renders},on:{\"on-change\":_vm.handleChange}})],1)]),_vm._v(\" \"),_c('Card',{style:({margin: '16px 20px', background: '#fff',height:'auto'})},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      关联品牌\\n    \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"600px\"}},[_c('Transfer',{attrs:{\"data\":_vm.data1,\"target-keys\":_vm.targetKeys1,\"list-style\":{\n                  width: '250px',\n                  height: '300px'\n              },\"titles\":['全部品牌','已关联品牌'],\"operations\":['取消','关联'],\"render-format\":_vm.renders1},on:{\"on-change\":_vm.handleChange1}})],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"提示\",\"width\":\"300\"},on:{\"on-ok\":_vm.ok},model:{value:(_vm.modal5),callback:function ($$v) {_vm.modal5=$$v},expression:\"modal5\"}},[_c('p',[_vm._v(\"选中平台下的商品将全部\"+_vm._s(_vm.direction === 'right'?'上架':'下架')+\"，是否确认？\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55e75126\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/setting/relevance.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55e75126\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./relevance.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./relevance.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./relevance.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55e75126\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./relevance.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55e75126\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/setting/relevance.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}