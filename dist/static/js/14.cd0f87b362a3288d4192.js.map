{"version":3,"sources":["webpack:///src/components/setting/relevance.vue","webpack:///./src/components/setting/relevance.vue?3a3c","webpack:///./src/components/setting/relevance.vue"],"names":["relevance","data","modal5","targetKeys","targetKeys1","data1","newTargetKeys","direction","moveKeys","methods","renders","item","label","ok","_this","this","Axios","post","supplierId","$route","query","id","platFormIds","then","res","code","$Message","success","warning","message","handleChange","console","log","renders1","handleChange1","brandIds","terraceList","get","params","status","i","push","key","abbrPlatformName","terraceList1","brandList","abbrBrandName","brandList1","mounted","setting_relevance","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","border","margin","_v","font-weight","color","margin-left","_s","name","style","background","height","attrs","slot","width","target-keys","list-style","titles","operations","render-format","on","on-change","title","on-ok","model","value","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.cd0f87b362a3288d4192.js","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <Card style=\"border:none;margin: 16px 0;\">\r\n      <div class=\"ivu-page-header-title\">关联设置</div>\r\n      <span style=\"font-weight: 700;color: #000;margin-left: 16px\">{{this.$route.query.name}}</span>\r\n    </Card>\r\n    <Card :style=\"{margin: '16px 20px', background: '#fff',height:'auto'}\">\r\n      <p slot=\"title\">\r\n        关联平台\r\n      </p>\r\n      <div style=\"margin: 0 auto;width: 600px;\">\r\n        <Transfer\r\n          :data=\"data\"\r\n          :target-keys=\"targetKeys\"\r\n          :list-style=\"{\r\n                    width: '250px',\r\n                    height: '300px'\r\n                }\"\r\n          :titles=\"['全部平台','已关联平台']\"\r\n          :operations=\"['取消','关联']\"\r\n          :render-format=\"renders\"\r\n          @on-change=\"handleChange\"></Transfer>\r\n      </div>\r\n    </Card>\r\n    <Card :style=\"{margin: '16px 20px', background: '#fff',height:'auto'}\">\r\n      <p slot=\"title\">\r\n        关联品牌\r\n      </p>\r\n      <div style=\"margin: 0 auto;width: 600px;\">\r\n        <Transfer\r\n          :data=\"data1\"\r\n          :target-keys=\"targetKeys1\"\r\n          :list-style=\"{\r\n                    width: '250px',\r\n                    height: '300px'\r\n                }\"\r\n          :titles=\"['全部品牌','已关联品牌']\"\r\n          :operations=\"['取消','关联']\"\r\n          :render-format=\"renders1\"\r\n          @on-change=\"handleChange1\"></Transfer>\r\n      </div>\r\n    </Card>\r\n    <Modal\r\n      v-model=\"modal5\"\r\n      title=\"提示\"\r\n      width=\"300\"\r\n      @on-ok=\"ok\">\r\n      <p>选中平台下的商品将全部{{direction === 'right'?'上架':'下架'}}，是否确认？</p>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        modal5: false,\r\n        targetKeys: [],\r\n        data: [],\r\n        targetKeys1: [],\r\n        data1: [],\r\n        newTargetKeys: '',\r\n        direction: '',\r\n        moveKeys: ''\r\n      }\r\n    },\r\n    methods: {\r\n      renders(item) {\r\n        return item.label;\r\n      },\r\n      ok() {\r\n        const _this = this;\r\n        _this.Axios.post(_this.direction === 'right' ? '/Manage/Supplier/relevancePlatform' : '/Manage/SkuInfo/cancelRelevancPlatform', {\r\n          supplierId: _this.$route.query.id,\r\n          platFormIds: _this.moveKeys\r\n        }).then(res => {\r\n          if (res.data.code === 0) {\r\n            _this.targetKeys = _this.newTargetKeys;\r\n            _this.$Message.success('成功')\r\n          } else {\r\n            _this.$Message.warning(res.data.message)\r\n          }\r\n        });\r\n      },\r\n      handleChange(newTargetKeys, direction, moveKeys) {\r\n        console.log(moveKeys)\r\n        const _this = this;\r\n        _this.newTargetKeys = newTargetKeys;\r\n        _this.direction = direction;\r\n        _this.moveKeys = moveKeys;\r\n        _this.modal5 = true;\r\n      },\r\n      renders1(item) {\r\n        return item.label;\r\n      },\r\n      handleChange1(newTargetKeys, direction, moveKeys) {\r\n        const _this = this;\r\n        _this.Axios.post(direction === 'right' ? '/Manage/Supplier/relevanceBrand' : '/Manage/Supplier/cancelRelevancBrand', {\r\n          supplierId: _this.$route.query.id,\r\n          brandIds: direction === 'right' ? newTargetKeys : moveKeys\r\n        }).then(res => {\r\n          if (res.data.code === 0) {\r\n            _this.targetKeys1 = newTargetKeys;\r\n            _this.$Message.success('成功')\r\n          } else {\r\n            _this.$Message.warning(res.data.message)\r\n          }\r\n        });\r\n      },\r\n\r\n\r\n      //获取平台列表\r\n      terraceList() {\r\n        const _this = this;\r\n        _this.Axios.get('/Manage/Platform/list', {\r\n          params: {\r\n            status: true\r\n          }\r\n        }).then(res => {\r\n          for (let i in res.data.data) {\r\n            _this.data.push({\r\n              \"key\": res.data.data[i].id,\r\n              \"label\": res.data.data[i].abbrPlatformName,\r\n            })\r\n          }\r\n        })\r\n      },\r\n\r\n      //获取已选中平台列表\r\n      terraceList1() {\r\n        const _this = this;\r\n        _this.Axios.get('/Manage/Supplier/suppPlatRelation', {\r\n          params: {\r\n            supplierId: _this.$route.query.id\r\n          }\r\n        }).then(res => {\r\n          for (let i in res.data.data) {\r\n            _this.targetKeys.push(res.data.data[i].id)\r\n          }\r\n        })\r\n      },\r\n\r\n      //获取品牌列表\r\n      brandList() {\r\n        const _this = this;\r\n        _this.Axios.get('/Manage/Brand/list').then(res => {\r\n          console.log(res.data)\r\n          for (let i in res.data.data) {\r\n            _this.data1.push({\r\n              \"key\": res.data.data[i].id,\r\n              \"label\": res.data.data[i].abbrBrandName,\r\n            })\r\n          }\r\n        })\r\n      },\r\n\r\n      //获取已选中品牌列表\r\n      brandList1() {\r\n        const _this = this;\r\n        _this.Axios.get('/Manage/Brand/suppBrandRelation', {\r\n          params: {\r\n            supplierId: _this.$route.query.id\r\n          }\r\n        }).then(res => {\r\n          _this.targetKeys1 = [];\r\n          for (let i in res.data.data) {\r\n            _this.targetKeys1.push(res.data.data[i].id)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    mounted() {\r\n      this.terraceList();\r\n      this.terraceList1();\r\n      this.brandList();\r\n      this.brandList1()\r\n    }\r\n  }\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"less\">\r\n  .ivu-btn-small {\r\n    padding: 1px 7px 3px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/setting/relevance.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('Card',{staticStyle:{\"border\":\"none\",\"margin\":\"16px 0\"}},[_c('div',{staticClass:\"ivu-page-header-title\"},[_vm._v(\"关联设置\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"700\",\"color\":\"#000\",\"margin-left\":\"16px\"}},[_vm._v(_vm._s(this.$route.query.name))])]),_vm._v(\" \"),_c('Card',{style:({margin: '16px 20px', background: '#fff',height:'auto'})},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      关联平台\\n    \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"600px\"}},[_c('Transfer',{attrs:{\"data\":_vm.data,\"target-keys\":_vm.targetKeys,\"list-style\":{\n                  width: '250px',\n                  height: '300px'\n              },\"titles\":['全部平台','已关联平台'],\"operations\":['取消','关联'],\"render-format\":_vm.renders},on:{\"on-change\":_vm.handleChange}})],1)]),_vm._v(\" \"),_c('Card',{style:({margin: '16px 20px', background: '#fff',height:'auto'})},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      关联品牌\\n    \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"600px\"}},[_c('Transfer',{attrs:{\"data\":_vm.data1,\"target-keys\":_vm.targetKeys1,\"list-style\":{\n                  width: '250px',\n                  height: '300px'\n              },\"titles\":['全部品牌','已关联品牌'],\"operations\":['取消','关联'],\"render-format\":_vm.renders1},on:{\"on-change\":_vm.handleChange1}})],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"提示\",\"width\":\"300\"},on:{\"on-ok\":_vm.ok},model:{value:(_vm.modal5),callback:function ($$v) {_vm.modal5=$$v},expression:\"modal5\"}},[_c('p',[_vm._v(\"选中平台下的商品将全部\"+_vm._s(_vm.direction === 'right'?'上架':'下架')+\"，是否确认？\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a445bb9e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/setting/relevance.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a445bb9e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./relevance.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./relevance.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./relevance.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a445bb9e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./relevance.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a445bb9e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/setting/relevance.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}