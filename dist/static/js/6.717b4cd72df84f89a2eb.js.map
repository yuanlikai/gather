{"version":3,"sources":["webpack:///src/components/article/classify.vue","webpack:///./src/components/article/classify.vue?c3de","webpack:///./src/components/article/classify.vue"],"names":["classify","components","upImg","data","_this2","this","loading1","total","start","columns","type","width","align","title","tooltip","key","minWidth","sortable","render","h","params","$route","query","treeLevel","on","click","href","$router","resolve","path","parentId","row","id","name","window","open","props","confirm","transfer","on-ok","_this","Axios","post","Qs","stringify","indices","then","res","code","getClassify","$Message","success","warning","message","sortsNum","methods","get","size","sortsNumAsc","content","totalElements","paging","i","sorts","order","mounted","article_classify","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","border","margin","_v","style","background","height","attrs","slot","target","to","margin-bottom","loading","show-header","on-sort-change","margin-top","z-index","position","text-align","Number","page-size","show-elevator","show-total","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.717b4cd72df84f89a2eb.js","sourcesContent":["<style lang=\"less\">\n  .ivu-radio {\n    line-height: normal;\n  }\n</style>\n<template>\n  <div class=\"content\">\n    <Card style=\"border:none;margin: 16px 0;\">\n      <div class=\"ivu-page-header-title\">商品分类</div>\n    </Card>\n    <Card :style=\"{margin: '16px 20px', background: '#fff',height:'auto'}\">\n      <p slot=\"title\">\n        数据列表\n      </p>\n      <router-link target=\"_blank\" :to=\"{\n        path:'/addClassify',\n        query:{\n        parentId:$route.query.parentId,\n        name:$route.query.name\n        }\n      }\">\n        <Button type=\"dashed\" style=\"width:100%;margin-bottom: 16px;\">添加</Button>\n      </router-link>\n      <Table @on-sort-change=\"sorts\" :loading=\"loading1\" :show-header=\"true\" :columns=\"columns\" :data=\"data\"></Table>\n      <div style=\"width: 100%;height: 8px;background: #ffffff;margin-top: -4px;z-index: 99;position: relative\"></div>\n      <div style=\"width: 100%;text-align: center;margin-top: 15px\">\n        <Page @on-change=\"paging\" :total=\"Number(total)\" :page-size=\"10\" show-elevator show-total/>\n      </div>\n    </Card>\n\n  </div>\n</template>\n<script>\n  import upImg from '../upImg'\n\n  export default {\n    components: {\n      upImg: upImg,\n    },\n    data() {\n      return {\n        loading1: true,\n        total: 0,\n        start: 1,\n        columns: [\n          {\n            type: 'index',\n            width: 60,\n            align: 'center'\n          },\n          {\n            title: '分类',\n            tooltip: true,\n            key: 'name',\n            minWidth: 120,\n            align: \"center\",\n          },\n          {\n            title: '级别',\n            tooltip: true,\n            key: 'treeLevel',\n            minWidth: 120,\n            align: \"center\",\n          },\n          {\n            title: '商品数量',\n            tooltip: true,\n            key: 'productCount',\n            minWidth: 120,\n            align: \"center\"\n          },\n          {\n            title: '排序',\n            tooltip: true,\n            key: 'sortsNum',\n            minWidth: 120,\n            align: \"center\",\n            sortable: \"custom\"\n          },\n          {\n            title: '设置',\n            tooltip: true,\n            key: 'ProductName',\n            width: 180,\n            align: \"center\", render: (h, params) => {\n              if (this.$route.query.treeLevel === '3') {\n                return h('a','暂无功能')\n              } else {\n                return h('div', [\n                  h('a', {\n                    on: {\n                      click: () => {\n                        let href = this.$router.resolve({\n                          path: '/addClassify',\n                          query: {\n                            parentId: params.row.id,\n                            name: params.row.name\n                          }\n                        });\n                        window.open(href.href, '_blank')\n\n                      }\n                    }\n                  }, '新增下级'),\n                  h('Divider', {\n                    props: {\n                      type: 'vertical'\n                    }\n                  }),\n                  h('a', {\n                    on: {\n                      click: () => {\n                        let href = this.$router.resolve({\n                          path: '/classify',\n                          query: {\n                            treeLevel: params.row.treeLevel + 1,   //层级\n                            parentId: params.row.id,    //上级分类id\n                            name: params.row.name,    //上级分类id\n                          }\n                        });\n                        window.open(href.href, '_blank')\n                      }\n                    }\n                  }, '查看下级'),\n                ])\n              }\n            }\n          },\n          {\n            title: '操作',\n            tooltip: true,\n            key: 'ProductName',\n            width: 160,\n            align: \"center\",\n            render: (h, params) => {\n              return h('div', [\n                h('a', {\n                  on: {\n                    click: () => {\n                      let href = this.$router.resolve({\n                        path: '/addClassify',\n                        query: {\n                          id: params.row.id,\n                          parentId: params.row.parentId\n                        }\n                      });\n                      window.open(href.href, '_blank')\n                    }\n                  }\n                }, '编辑'),\n                h('Divider', {\n                  props: {\n                    type: 'vertical'\n                  }\n                }),\n                h('Poptip', {\n                  props: {\n                    confirm: true,\n                    transfer: true,\n                    title: '确定删除该分类？',\n                  },\n                  on: {\n                    'on-ok': () => {\n                      const _this = this;\n                      _this.Axios.post('/Manage/Category/deleteCategory', _this.Qs.stringify({\n                        id: params.row.id\n                      }, {indices: false})).then(res => {\n                        if (res.data.code === 0) {\n                          _this.getClassify();\n                          _this.$Message.success('删除成功')\n                        } else {\n                          _this.$Message.warning(res.data.message)\n                        }\n                      })\n                    }\n                  }\n                }, [\n                  h('a', '删除')\n                ]),\n              ])\n            }\n          },\n        ],\n        data: [],\n        sortsNum: 'normal',\n      }\n    },\n    methods: {\n      //获取分类列表\n      getClassify() {\n        const _this = this;\n        _this.loading1 = true;\n        _this.Axios.get('/Manage/Category/pageList', {\n          params: {\n            start: _this.start - 1,\n            size: 10,\n            treeLevel: _this.$route.query.treeLevel ? _this.$route.query.treeLevel : '1',   //层级\n            parentId: _this.$route.query.parentId ? _this.$route.query.parentId : '',    //上级分类id\n            sortsNumAsc: _this.sortsNum === 'normal' ? '' : (_this.sortsNum === 'asc' ? true : false),     //true 升序  false 降序\n          }\n        }).then(res => {\n          if (res.data.code === 0) {\n            _this.data = res.data.data.content;\n            _this.total = res.data.data.totalElements\n          } else {\n            _this.$Message.warning(res.data.message)\n          }\n          _this.loading1 = false;\n        })\n      },\n\n      // 分页\n      paging(i) {\n        this.start = i;\n        this.getClassify()\n      },\n\n      //排序\n      sorts(i) {\n        const _this = this;\n        switch (i.key) {\n          case \"sortsNum\":\n            _this.sortsNum = i.order;\n            break;\n        }\n        _this.getClassify();\n      }\n    },\n    mounted() {\n      this.getClassify()\n    }\n  }\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  .ivu-tree li ul {\n    padding: 0 0 0 60px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/article/classify.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('Card',{staticStyle:{\"border\":\"none\",\"margin\":\"16px 0\"}},[_c('div',{staticClass:\"ivu-page-header-title\"},[_vm._v(\"商品分类\")])]),_vm._v(\" \"),_c('Card',{style:({margin: '16px 20px', background: '#fff',height:'auto'})},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      数据列表\\n    \")]),_vm._v(\" \"),_c('router-link',{attrs:{\"target\":\"_blank\",\"to\":{\n      path:'/addClassify',\n      query:{\n      parentId:_vm.$route.query.parentId,\n      name:_vm.$route.query.name\n      }\n    }}},[_c('Button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"16px\"},attrs:{\"type\":\"dashed\"}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('Table',{attrs:{\"loading\":_vm.loading1,\"show-header\":true,\"columns\":_vm.columns,\"data\":_vm.data},on:{\"on-sort-change\":_vm.sorts}}),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"8px\",\"background\":\"#ffffff\",\"margin-top\":\"-4px\",\"z-index\":\"99\",\"position\":\"relative\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"text-align\":\"center\",\"margin-top\":\"15px\"}},[_c('Page',{attrs:{\"total\":Number(_vm.total),\"page-size\":10,\"show-elevator\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.paging}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-184e4e48\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/article/classify.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-184e4e48\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./classify.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-184e4e48\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./classify.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./classify.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./classify.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-184e4e48\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./classify.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-184e4e48\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/article/classify.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}