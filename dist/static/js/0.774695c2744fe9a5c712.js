webpackJsonp([0],{DlMc:function(e,t,i){var s=i("gApy"),a=i("DtRx"),n=a;n.v1=s,n.v4=a,e.exports=n},DtRx:function(e,t,i){var s=i("i4uy"),a=i("MAlW");e.exports=function(e,t,i){var n=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[n+o]=r[o];return t||a(r)}},JNXG:function(e,t,i){"use strict";var s=i("DlMc"),a=i.n(s),n={props:["num"],data:function(){return{data:{callback:"",policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:"http://ylmanager.oss-cn-shanghai.aliyuncs.com",success_action_status:"200"},defaultList:[],imgName:"",visible:!1,uploadList:[],index:1,dir:""}},methods:{handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleRemove1:function(e){this.$refs.upload.fileList;this.$refs.upload.fileList.splice(0,this.uploadList.length)},handleSuccess:function(e,t){t.filename=t.response.data.filename},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"图片大小不能超过1MB"})},handleBeforeUpload:function(){this.data.key=this.dir+"/"+a.a.v4();var e=this.num?this.num:1,t=this.uploadList.length<e;return t||this.$Notice.warning({title:"最多只能上传"+e+"张图片"}),t},upload:function(){var e=this;setTimeout(function(){e.uploadList=e.$refs.upload.fileList},800)},key:function(){return this.policyData.dir+"/"+a.a.v4()},policy:function(){var e=this;e.Axios.get("/aliyun/oss/policy").then(function(t){e.dir=t.data.data.dir,e.data.callback=t.data.data.callback,e.data.policy=t.data.data.policy,e.data.signature=t.data.data.signature,e.data.key=t.data.data.dir+"/"+a.a.v4(),e.data.ossaccessKeyId=t.data.data.accessKeyId,e.data.dir=t.data.data.dir,console.log(e.data)})}},mounted:function(){this.uploadList=this.$refs.upload.fileList,this.upload(),this.policy();var e=this;setInterval(function(){e.policy()},18e4)}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[e._l(e.uploadList,function(t,s){return i("div",{staticClass:"demo-upload-list-box"},[i("div",{staticClass:"demo-upload-list"},["finished"===t.status?[i("img",{attrs:{src:t.filename+"?x-oss-process=image/resize,m_pad,h_100,w_100,color_FFFFFF"}}),e._v(" "),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(i){e.handleView(t.filename)}}}),e._v(" "),i("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],attrs:{type:"ios-trash-outline"},nativeOn:{click:function(i){e.handleRemove(t)}}})],1)]:[t.showProgress?i("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2),e._v(" "),i("br"),e._v(" "),i("span",{staticClass:"demo-upload-list-box-index"},[e._v(e._s(s+1))])])}),e._v(" "),i("Upload",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:!0,data:e.data,type:"drag",action:"https://ylmanager.oss-cn-shanghai.aliyuncs.com"}},[i("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[i("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),e._v(" "),i("Modal",{attrs:{title:"View Image",width:"300"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?i("img",{staticStyle:{width:"100%"},attrs:{src:e.imgName}}):e._e(),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.visible=!e.visible}}},[e._v("确定")])],1)])],2)},staticRenderFns:[]};var o=i("VU/8")(n,r,!1,function(e){i("cWV8")},null,null);t.a=o.exports},MAlW:function(e,t){for(var i=[],s=0;s<256;++s)i[s]=(s+256).toString(16).substr(1);e.exports=function(e,t){var s=t||0,a=i;return[a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]]].join("")}},cWV8:function(e,t){},gApy:function(e,t,i){var s,a,n=i("i4uy"),r=i("MAlW"),o=0,l=0;e.exports=function(e,t,i){var c=t&&i||0,d=t||[],u=(e=e||{}).node||s,m=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==m){var p=n();null==u&&(u=s=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==m&&(m=a=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:l+1,v=f-o+(h-l)/1e4;if(v<0&&void 0===e.clockseq&&(m=m+1&16383),(v<0||f>o)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=f,l=h,a=m;var y=(1e4*(268435455&(f+=122192928e5))+h)%4294967296;d[c++]=y>>>24&255,d[c++]=y>>>16&255,d[c++]=y>>>8&255,d[c++]=255&y;var x=f/4294967296*1e4&268435455;d[c++]=x>>>8&255,d[c++]=255&x,d[c++]=x>>>24&15|16,d[c++]=x>>>16&255,d[c++]=m>>>8|128,d[c++]=255&m;for(var g=0;g<6;++g)d[c+g]=u[g];return t||r(d)}},i4uy:function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var s=new Uint8Array(16);e.exports=function(){return i(s),s}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},lDlD:function(e,t,i){"use strict";var s={data:function(){return{model:!1,formDynamic:{items:[{Express:"",ExpressNo:""}],idstr:"",Express:[],ExpressNo:[],Description:""},ruleValidate:{Description:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]},cityList3:[]}},methods:{getRole:function(){var e=this;e.Axios.get("/Manage/Order/getExpressList").then(function(t){e.cityList3=t.data.data})},validatePass:function(e,t,i){var s=this.formDynamic.items[e.index];s.Express&&s.ExpressNo?i():i(new Error("物流信息("+(e.index+1)+")不能为空"))},handleSubmit:function(e){var t=this,i=this;for(var s in this.formDynamic.Express=[],this.formDynamic.ExpressNo=[],i.formDynamic.items)this.formDynamic.Express.push(i.formDynamic.items[s].Express),this.formDynamic.ExpressNo.push(i.formDynamic.items[s].ExpressNo);this.$refs[e].validate(function(e){e?i.Axios.post("/Manage/Order/updateOrder",i.Qs.stringify({idstr:i.formDynamic.idstr,statusid:2,Express:i.formDynamic.Express.join("，"),ExpressNo:i.formDynamic.ExpressNo.join("，"),Description:i.formDynamic.Description})).then(function(e){0===e.data.error?(i.$Message.success("发货成功"),i.$emit("getOrder"),i.$emit("statusNum"),i.model=!1):i.$Message.error(e.data.errorMsg)}):t.$Message.error("请填写物流信息！")})},handleAdd:function(){this.formDynamic.items.push({Express:"",ExpressNo:""})},handleRemove:function(e){this.formDynamic.items.length>1?this.formDynamic.items.splice(e,1):this.$Message.warning("至少填写一个物流信息！")}},mounted:function(){this.getRole()}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{attrs:{width:"360"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[i("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-information-circle"}}),e._v(" "),i("span",[e._v("请填写发货信息")])],1),e._v(" "),i("Form",{ref:"formDynamic",staticStyle:{width:"300px"},attrs:{model:e.formDynamic,"label-width":84}},[e._l(e.formDynamic.items,function(t,s){return i("FormItem",{key:s,attrs:{label:"快递信息("+(s+1)+")",prop:"items."+s+".Express",rules:{validator:e.validatePass,required:!0,index:s,trigger:"change"}}},[i("Row",[i("Col",{attrs:{span:"18"}},[i("Select",{attrs:{placeholder:"请输入快递公司"},model:{value:t.Express,callback:function(i){e.$set(t,"Express",i)},expression:"item.Express"}},e._l(e.cityList3,function(t,s){return i("Option",{key:s,attrs:{value:t.Name}},[e._v(e._s(t.Name))])})),e._v(" "),i("Input",{attrs:{maxlength:20,type:"text",placeholder:"请输入物流单号"},model:{value:t.ExpressNo,callback:function(i){e.$set(t,"ExpressNo",i)},expression:"item.ExpressNo"}})],1),e._v(" "),i("Col",{attrs:{span:"4",offset:"1"}},[i("Button",{attrs:{size:"small"},on:{click:function(t){e.handleRemove(s)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),i("FormItem",[i("Row",[i("Col",{attrs:{span:"12"}},[i("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:e.handleAdd}},[e._v("添加快递")])],1)],1)],1),e._v(" "),i("FormItem",{attrs:{label:"备注信息",prop:"Description"}},[i("Input",{attrs:{type:"textarea",placeholder:"请输入"},model:{value:e.formDynamic.Description,callback:function(t){e.$set(e.formDynamic,"Description",t)},expression:"formDynamic.Description"}})],1)],2),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formDynamic")}}},[e._v(e._s(e.$route.query.idstr?"修改":"发货"))])],1)],1)},staticRenderFns:[]},n=i("VU/8")(s,a,!1,null,null,null);t.a=n.exports},mvHQ:function(e,t,i){e.exports={default:i("qkKv"),__esModule:!0}},qkKv:function(e,t,i){var s=i("FeBl"),a=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}}});