webpackJsonp([0],{DlMc:function(e,t,i){var a=i("gApy"),s=i("DtRx"),n=s;n.v1=a,n.v4=s,e.exports=n},DtRx:function(e,t,i){var a=i("i4uy"),s=i("MAlW");e.exports=function(e,t,i){var n=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var r=0;r<16;++r)t[n+r]=o[r];return t||s(o)}},JNXG:function(e,t,i){"use strict";var a=i("DlMc"),s=i.n(a),n={props:["num"],data:function(){return{data:{callback:"",policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:"http://ylmanager.oss-cn-shanghai.aliyuncs.com",success_action_status:"200"},defaultList:[],imgName:"",visible:!1,uploadList:[],index:1,dir:""}},methods:{handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleRemove1:function(e){this.$refs.upload.fileList;this.$refs.upload.fileList.splice(0,this.uploadList.length)},handleSuccess:function(e,t){t.filename=t.response.data.filename},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"图片大小不能超过1MB"})},handleBeforeUpload:function(){this.data.key=this.dir+"/"+s.a.v4();var e=this.num?this.num:1,t=this.uploadList.length<e;return t||this.$Notice.warning({title:"最多只能上传"+e+"张图片"}),t},upload:function(){var e=this;setTimeout(function(){e.uploadList=e.$refs.upload.fileList},800)},key:function(){return this.policyData.dir+"/"+s.a.v4()},policy:function(){var e=this;e.Axios.get("/aliyun/oss/policy").then(function(t){e.dir=t.data.data.dir,e.data.callback=t.data.data.callback,e.data.policy=t.data.data.policy,e.data.signature=t.data.data.signature,e.data.key=t.data.data.dir+"/"+s.a.v4(),e.data.ossaccessKeyId=t.data.data.accessKeyId,e.data.dir=t.data.data.dir,console.log(e.data)})}},mounted:function(){this.uploadList=this.$refs.upload.fileList,this.upload(),this.policy();var e=this;setInterval(function(){e.policy()},18e4)}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[e._l(e.uploadList,function(t,a){return i("div",{staticClass:"demo-upload-list-box"},[i("div",{staticClass:"demo-upload-list"},["finished"===t.status?[i("img",{attrs:{src:t.filename+"?x-oss-process=image/resize,m_pad,h_100,w_100,color_FFFFFF"}}),e._v(" "),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(i){e.handleView(t.filename)}}}),e._v(" "),i("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],attrs:{type:"ios-trash-outline"},nativeOn:{click:function(i){e.handleRemove(t)}}})],1)]:[t.showProgress?i("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2),e._v(" "),i("br"),e._v(" "),i("span",{staticClass:"demo-upload-list-box-index"},[e._v(e._s(a+1))])])}),e._v(" "),i("Upload",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:!0,data:e.data,type:"drag",action:"https://ylmanager.oss-cn-shanghai.aliyuncs.com"}},[i("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[i("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),e._v(" "),i("Modal",{attrs:{title:"View Image",width:"300"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?i("img",{staticStyle:{width:"100%"},attrs:{src:e.imgName}}):e._e(),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.visible=!e.visible}}},[e._v("确定")])],1)])],2)},staticRenderFns:[]};var r=i("VU/8")(n,o,!1,function(e){i("oaOw")},null,null);t.a=r.exports},MAlW:function(e,t){for(var i=[],a=0;a<256;++a)i[a]=(a+256).toString(16).substr(1);e.exports=function(e,t){var a=t||0,s=i;return[s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],"-",s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]],s[e[a++]]].join("")}},gApy:function(e,t,i){var a,s,n=i("i4uy"),o=i("MAlW"),r=0,l=0;e.exports=function(e,t,i){var c=t&&i||0,d=t||[],u=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:s;if(null==u||null==p){var f=n();null==u&&(u=a=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=s=16383&(f[6]<<8|f[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:l+1,m=v-r+(h-l)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||v>r)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=v,l=h,s=p;var y=(1e4*(268435455&(v+=122192928e5))+h)%4294967296;d[c++]=y>>>24&255,d[c++]=y>>>16&255,d[c++]=y>>>8&255,d[c++]=255&y;var g=v/4294967296*1e4&268435455;d[c++]=g>>>8&255,d[c++]=255&g,d[c++]=g>>>24&15|16,d[c++]=g>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var x=0;x<6;++x)d[c+x]=u[x];return t||o(d)}},i4uy:function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var a=new Uint8Array(16);e.exports=function(){return i(a),a}}else{var s=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}},oaOw:function(e,t){}});
//# sourceMappingURL=0.b9e7de7a74fcb80d5d9d.js.map