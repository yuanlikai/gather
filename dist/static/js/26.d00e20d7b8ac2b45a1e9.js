webpackJsonp([26],{"9VCV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("Card",{staticStyle:{border:"none",margin:"16px 0"}},[t("div",{staticClass:"ivu-page-header-title"},[this._v("平台映射")]),this._v(" "),t("span",{staticStyle:{"font-weight":"700",color:"#000","margin-left":"16px"}},[this._v(this._s(this.$route.query.name))])]),this._v(" "),t("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[t("Tree",{staticStyle:{"margin-left":"50px"},attrs:{data:this.data,"show-checkbox":""},on:{"on-check-change":this.check}})],1)],1)},staticRenderFns:[]};var n=a("VU/8")({data:function(){return{data:[],Tree:[]}},methods:{check:function(e){var t=this,a=[],r=[];for(var n in e)3===e[n].treeLevel&&a.push(e[n].id);for(var i in t.Tree)-1===a.indexOf(t.Tree[i])&&r.push(t.Tree[i]);t.Axios.post("/Manage/Category/relevanceCategory",t.Qs.stringify({platformId:t.$route.query.id,cancelCategoryIds:r.length>0?r:[""],categoryIds:a.length>0?a:[""]},{indices:!1})).then(function(e){0===e.data.code?(t.getTree(),t.$Message.success("设置成功")):t.$Message.warning(e.data.message)})},getList:function(){var e=this;e.Axios.get("/Manage/Category/categoryPlatformRelation",{params:{platformId:e.$route.query.id}}).then(function(t){e.data=t.data.data})},getTree:function(){var e=this;e.Axios.get("/Manage/Category/selectedCategory",{params:{platformId:e.$route.query.id}}).then(function(t){e.Tree=t.data.data})}},mounted:function(){this.getList(),this.getTree()}},r,!1,function(e){a("pMDq")},"data-v-594bdf42",null);t.default=n.exports},pMDq:function(e,t){}});