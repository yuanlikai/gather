webpackJsonp([0],{DlMc:function(e,t,s){var i=s("gApy"),n=s("DtRx"),r=n;r.v1=i,r.v4=n,e.exports=r},DtRx:function(e,t,s){var i=s("i4uy"),n=s("MAlW");e.exports=function(e,t,s){var r=t&&s||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[r+a]=o[a];return t||n(o)}},JNXG:function(e,t,s){"use strict";var i=s("DlMc"),n=s.n(i),r={props:["num"],data:function(){return{data:{callback:"",policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:"http://ylmanager.oss-cn-shanghai.aliyuncs.com",success_action_status:"200"},defaultList:[],imgName:"",visible:!1,uploadList:[],index:1,dir:""}},methods:{handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleRemove1:function(e){this.$refs.upload.fileList;this.$refs.upload.fileList.splice(0,this.uploadList.length)},handleSuccess:function(e,t){console.log(t),t.filename=t.response.msg},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"图片大小不能超过1MB"})},handleBeforeUpload:function(){this.data.key=this.dir+"/"+n.a.v4();var e=this.num?this.num:1,t=this.uploadList.length<e;return t||this.$Notice.warning({title:"最多只能上传"+e+"张图片"}),t},upload:function(){var e=this;setTimeout(function(){e.uploadList=e.$refs.upload.fileList},800)},key:function(){return this.policyData.dir+"/"+n.a.v4()}},mounted:function(){this.uploadList=this.$refs.upload.fileList,this.upload()}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._l(e.uploadList,function(t,i){return s("div",{staticClass:"demo-upload-list-box"},[s("div",{staticClass:"demo-upload-list"},["finished"===t.status?[s("img",{attrs:{src:t.filename+"?x-oss-process=image/resize,m_pad,h_100,w_100,color_FFFFFF"}}),e._v(" "),s("div",{staticClass:"demo-upload-list-cover"},[s("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(s){e.handleView(t.filename)}}}),e._v(" "),s("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],attrs:{type:"ios-trash-outline"},nativeOn:{click:function(s){e.handleRemove(t)}}})],1)]:[t.showProgress?s("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2),e._v(" "),s("br"),e._v(" "),s("span",{staticClass:"demo-upload-list-box-index"},[e._v(e._s(i+1))])])}),e._v(" "),s("Upload",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:!0,data:e.data,type:"drag",action:"/ShangchuanWj.aspx"}},[s("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[s("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),e._v(" "),s("Modal",{attrs:{title:"View Image",width:"300"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?s("img",{staticStyle:{width:"100%"},attrs:{src:e.imgName}}):e._e(),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.visible=!e.visible}}},[e._v("确定")])],1)])],2)},staticRenderFns:[]};var a=s("VU/8")(r,o,!1,function(e){s("h3xM")},null,null);t.a=a.exports},MAlW:function(e,t){for(var s=[],i=0;i<256;++i)s[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,n=s;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},gApy:function(e,t,s){var i,n,r=s("i4uy"),o=s("MAlW"),a=0,l=0;e.exports=function(e,t,s){var c=t&&s||0,u=t||[],d=(e=e||{}).node||i,m=void 0!==e.clockseq?e.clockseq:n;if(null==d||null==m){var p=r();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==m&&(m=n=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:l+1,v=f-a+(h-l)/1e4;if(v<0&&void 0===e.clockseq&&(m=m+1&16383),(v<0||f>a)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,l=h,n=m;var x=(1e4*(268435455&(f+=122192928e5))+h)%4294967296;u[c++]=x>>>24&255,u[c++]=x>>>16&255,u[c++]=x>>>8&255,u[c++]=255&x;var y=f/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=m>>>8|128,u[c++]=255&m;for(var g=0;g<6;++g)u[c+g]=d[g];return t||o(u)}},h3xM:function(e,t){},i4uy:function(e,t){var s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(s){var i=new Uint8Array(16);e.exports=function(){return s(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},lDlD:function(e,t,s){"use strict";var i={data:function(){return{model:!1,formDynamic:{items:[{Express:"",ExpressNo:""}],idstr:"",Express:[],ExpressNo:[],Description:""},ruleValidate:{Description:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]},cityList3:[]}},methods:{getRole:function(){var e=this;e.Axios.get("/GetExpressList.ashx").then(function(t){e.cityList3=t.data.data})},validatePass:function(e,t,s){var i=this.formDynamic.items[e.index];i.Express&&i.ExpressNo?s():s(new Error("物流信息("+(e.index+1)+")不能为空"))},handleSubmit:function(e){var t=this,s=this;for(var i in this.formDynamic.Express=[],this.formDynamic.ExpressNo=[],s.formDynamic.items)this.formDynamic.Express.push(s.formDynamic.items[i].Express),this.formDynamic.ExpressNo.push(s.formDynamic.items[i].ExpressNo);this.$refs[e].validate(function(e){e?s.Axios.post("/OperOrder.ashx",{idstr:Number(s.formDynamic.idstr),statusid:2,Express:s.formDynamic.Express.join("，"),ExpressNo:s.formDynamic.ExpressNo.join("，"),Description:s.formDynamic.Description}).then(function(e){0===e.data.error?(s.$Message.success("发货成功"),s.$emit("getOrder"),s.$emit("statusNum"),s.model=!1):s.$Message.error(e.data.errorMsg)}):t.$Message.error("请填写物流信息！")})},handleAdd:function(){this.formDynamic.items.push({Express:"",disabled:!1,ExpressNo:""})},handleRemove:function(e){this.formDynamic.items.length>1?this.formDynamic.items.splice(e,1):this.$Message.warning("至少填写一个物流信息！")}},mounted:function(){this.getRole()}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{width:"360"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[s("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[s("Icon",{attrs:{type:"ios-information-circle"}}),e._v(" "),s("span",[e._v("请填写发货信息")])],1),e._v(" "),s("Form",{ref:"formDynamic",staticStyle:{width:"300px"},attrs:{model:e.formDynamic,"label-width":100}},[e._l(e.formDynamic.items,function(t,i){return s("FormItem",{key:i,attrs:{label:"快递信息 ("+(i+1)+")",prop:"items."+i+".Express",rules:{validator:e.validatePass,required:!0,index:i,trigger:"change"}}},[s("Row",[s("Col",{attrs:{span:"18"}},[s("Select",{attrs:{disabled:t.disabled,placeholder:"请输入快递公司"},model:{value:t.Express,callback:function(s){e.$set(t,"Express",s)},expression:"item.Express"}},e._l(e.cityList3,function(t,i){return s("Option",{key:i,attrs:{value:t.Name}},[e._v(e._s(t.Name))])})),e._v(" "),s("Input",{attrs:{maxlength:20,type:"text",disabled:t.disabled,placeholder:"请输入物流单号"},model:{value:t.ExpressNo,callback:function(s){e.$set(t,"ExpressNo",s)},expression:"item.ExpressNo"}})],1),e._v(" "),s("Col",{attrs:{span:"4",offset:"1"}},[s("Button",{attrs:{disabled:t.disabled,size:"small"},on:{click:function(t){e.handleRemove(i)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),s("FormItem",[s("Row",[s("Col",{attrs:{span:"12"}},[s("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:e.handleAdd}},[e._v("添加快递")])],1)],1)],1),e._v(" "),s("FormItem",{attrs:{label:"备注信息",prop:"Description"}},[s("Input",{attrs:{type:"textarea",placeholder:"请输入"},model:{value:e.formDynamic.Description,callback:function(t){e.$set(e.formDynamic,"Description",t)},expression:"formDynamic.Description"}})],1)],2),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formDynamic")}}},[e._v(e._s(e.$route.query.idstr?"修改":"发货"))])],1)],1)},staticRenderFns:[]},r=s("VU/8")(i,n,!1,null,null,null);t.a=r.exports},lobQ:function(e,t,s){"use strict";var i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("Upload",{attrs:{action:"/ShangchuanWl.aspx",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",format:["xls","xlsx"],"show-upload-list":!1,"on-success":this.uploadsuccess}},[t("Button",{attrs:{type:"text",icon:"ios-cloud-upload-outline"}},[this._v("批量发货")])],1)},staticRenderFns:[]},n=s("VU/8")({methods:{uploadsuccess:function(e,t,s){""!==e.msg?this.$Message.success("文件上传成功！"):this.$Message.error("文件上传失败")}}},i,!1,null,null,null);t.a=n.exports},mvHQ:function(e,t,s){e.exports={default:s("qkKv"),__esModule:!0}},qkKv:function(e,t,s){var i=s("FeBl"),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}}});