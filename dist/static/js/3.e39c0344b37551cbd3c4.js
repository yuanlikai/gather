webpackJsonp([3],{"1D7j":function(t,e){},PXbn:function(t,e){},aEKa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("mvHQ"),i=a.n(r),s={components:{upImg:a("JNXG").a},data:function(){return{ServiceList:[],img:"",item:{},visible:!1,modal:!1,modal1:!1,formValidate:{Remarks:"",CustomerReq:""},ruleValidate:{Remarks:[{required:!0,message:"请输入客服备注",trigger:"change"}],CustomerReq:[{required:!0,message:"请输入客户诉求",trigger:"change"}]}}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a=e.$refs.service.uploadList,r=[];if(a.length>0)for(var i=0;i<a.length;i++)r.push(a[i].response.msg);var s=e.$refs.upload.fileList,o=[];if(s.length>0)for(var n=0;n<s.length;n++)o.push(s[n].response.msg);var l=e.formValidate;l.Img=r.join(","),l.FileStr=o.join(","),console.log(e.item.Id),l.OrderId=e.item.ID,console.log(l),e.Axios.post("/OperService.ashx",l).then(function(t){0===t.data.error?(e.modal1=!1,e.$Notice.success({name:"alert",title:"添加成功"}),e.getServiceList(e.item.ID)):e.$Message.error(t.data.errorMsg)}),console.log(e.formValidate)}})},handleReset:function(t){this.$refs.upload.fileList=[],this.$refs.service.handleRemove1(),this.$refs[t].resetFields()},handleSuccess:function(t,e){this.$refs.upload.fileList=this.$refs.upload.fileList.splice(-3)},add:function(){this.modal1=!0,this.handleReset("formValidate")},info:function(t){this.item=t,this.ServiceList=[],this.modal=!0,this.getServiceList(this.item.ID)},getServiceList:function(t){var e=this;this.Axios.post("/GetServiceList.ashx",{OrderId:t}).then(function(t){0===t.data.error?e.ServiceList=t.data.data:e.$Message.error(t.data.errorMsg)})},showImg:function(t){this.img=t,this.visible=!0}},mounted:function(){}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("Modal",{attrs:{title:"客服处理"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticStyle:{"max-height":"600px",overflow:"auto"}},[a("Button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("添加处理")]),t._v(" "),t.ServiceList.length>0?a("Timeline",t._l(t.ServiceList,function(e,r){return a("TimelineItem",{key:r},[a("p",{staticClass:"time"},[t._v(t._s(e.AddTime))]),t._v(" "),a("p",{staticClass:"content"},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("客户诉求：")]),t._v(" "),a("span",{staticStyle:{flex:"1"}},[t._v(t._s(e.CustomerReq))])]),t._v(" "),a("p",{staticClass:"content"},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("客服备注：")]),t._v(" "),a("span",{staticStyle:{flex:"1"}},[t._v(t._s(e.Remarks))])]),t._v(" "),e.Img?a("p",{staticClass:"content"},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("图片：")]),t._v(" "),t._l(e.Img.split(","),function(e,r){return a("img",{key:r,staticStyle:{width:"50px",height:"50px","margin-right":"8px",cursor:"pointer"},attrs:{src:e,alt:""},on:{click:function(a){t.showImg(e)}}})})],2):t._e(),t._v(" "),e.FileStr?a("p",{staticClass:"content"},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("文件：")]),t._v(" "),t._l(e.FileStr.split(","),function(e,r){return a("a",{key:r,staticStyle:{"margin-right":"10px"},attrs:{href:e}},[t._v("文件"+t._s(r+1))])})],2):t._e()])})):a("p",{staticStyle:{"text-align":"center"}},[t._v("暂无处理信息")])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("Modal",{attrs:{title:"图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:t.img}})]),t._v(" "),a("Modal",{attrs:{title:"添加客服处理"},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("div",[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"客户诉求",prop:"CustomerReq"}},[a("Input",{attrs:{type:"textarea",rows:3},model:{value:t.formValidate.CustomerReq,callback:function(e){t.$set(t.formValidate,"CustomerReq",e)},expression:"formValidate.CustomerReq"}})],1),t._v(" "),a("FormItem",{attrs:{label:"客服备注",prop:"Remarks"}},[a("Input",{attrs:{type:"textarea",rows:3},model:{value:t.formValidate.Remarks,callback:function(e){t.$set(t.formValidate,"Remarks",e)},expression:"formValidate.Remarks"}})],1),t._v(" "),a("FormItem",{attrs:{label:"上传图片"}},[a("upImg",{ref:"service",attrs:{num:5}})],1),t._v(" "),a("FormItem",{attrs:{label:"上传文件"}},[a("Upload",{ref:"upload",attrs:{action:"/ShangchuanWj.aspx","on-success":t.handleSuccess}},[a("Button",{staticStyle:{width:"408px"},attrs:{type:"primary",ghost:"",icon:"ios-cloud-upload-outline"}},[t._v("点击上传文件\n            ")])],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){t.modal1=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var n=a("VU/8")(s,o,!1,function(t){a("zsws")},"data-v-2c8a1dd3",null).exports,l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:t.title},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Table",{attrs:{columns:t.columns1,data:t.data1}})],1)],1)},staticRenderFns:[]};var d=a("VU/8")({data:function(){var t=this;return{proUrl:"",modal3:!1,modal1:!1,title:"",data1:[],columns1:[{title:"图片",width:"80px",align:"center",key:"name",render:function(e,a){return e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},[e("img",{attrs:{src:a.row.ProductImg},style:{height:"30px",width:"30px",borderRadius:"3px",cursor:"pointer",marginRight:"6px"},on:{click:function(){t.$emit("showModal3",a.row.ProductImg)}}})])}},{title:"编号",key:"StockNo"},{title:"名称",key:"ProductName"},{title:"数量",key:"Num"}]}},methods:{info:function(t){this.title="订单编号: "+t.OrderNumber+" 产品信息",this.data1=t.ProList,this.modal1=!0}},mounted:function(){}},l,!1,function(t){a("PXbn")},"data-v-a98af3de",null).exports,c=a("lDlD"),m=a("lobQ"),p={components:{Product:d,express:c.a,Upload:m.a,operService:n},data:function(){var t=this;return{supplier:{},options1:{shortcuts:[{text:"今天发货",value:function(){var t=new Date,e=new Date;return t.setTime(t.getTime()-189216e6),[t,e]}},{text:"明天发货",value:function(){var t=new Date;return t.setTime(t.getTime()+864e5),[t,t]}}]},dataSite:[],pageSize:10,indeterminate:!0,checkAll:!1,checkAllGroup:[],total:0,modal:!1,modal1:!1,modal2:!1,modal3:!1,proUrl:"",tagArr:[],loading1:!0,OrderNumber:"",ReOrder:{dstr:"",total:0,remarks:"",freight:0,prolist:[]},columns1:[{type:"selection",width:60,align:"center"},{title:"商品名称",tooltip:!0,key:"ProductName",minWidth:120,align:"center"},{title:"货号",tooltip:!0,key:"StockNo",minWidth:88,align:"center"},{title:"数量",tooltip:!0,key:"Num",minWidth:88,align:"center"},{title:"单价",tooltip:!0,key:"Price",minWidth:88,align:"center"},{title:"小计",tooltip:!0,key:"SumPrice",minWidth:88,align:"center"},{title:"退货数量",minWidth:88,align:"center",key:"asdadasda",render:function(e,a){return t.OperBtn[a.index].number=Number(a.row.Num),e("div",[e("InputNumber",{props:{value:Number(a.row.Num),size:"small",min:1,max:Number(a.row.Num)},style:{width:"60px"},on:{"on-change":function(e){var r=t;for(var i in r.OperBtn[a.index].number=Number(e),r.ReOrder.prolist)r.ReOrder.prolist[i].id==a.row.ID&&(r.ReOrder.prolist[i].num=String(e));t.totalPrices()}}})])}}],OperBtn:[],data:[],columns:[{type:"selection",width:50,fixed:"left",align:"center"},{title:"订单编号",fixed:"left",key:"OrderNumber",minWidth:160,render:function(e,a){return e("a",{style:{display:"flex",alignItems:"center"},on:{click:function(){var e=t.$router.resolve({path:"/orderDetails",query:{idstr:a.row.ID,abnormal:9===t.formValidate.state}});window.open(e.href,"_blank")}}},[e("img",{attrs:{src:"https://ylcgenterprise.oss-cn-shanghai.aliyuncs.com/ylyunxiang/VIP.png"},style:{display:1===a.row.IsVip?"":"none",width:"12px",marginRight:"6px",height:"12px"}}),e("span",a.row.OrderNumber)])}},{title:"产品信息",fixed:"left",key:"OrderNumber",minWidth:230,render:function(e,a){return e("span",{style:{display:"flex",alignItems:"center"}},[e("img",{attrs:{src:a.row.ProList[0].ProductImg},style:{height:"30px",width:"30px",borderRadius:"3px",cursor:"pointer",marginRight:"6px"},on:{click:function(){t.showModal3(a.row.ProList[0].ProductImg)}}}),e("p",{style:{flex:"1"}},a.row.ProList[0].ProductName+" * "+a.row.ProList[0].Num),e("a",{style:{marginLeft:"6px"},on:{click:function(){t.$refs.product.info(a.row)}}},a.row.ProList.length>1?"更多":"")])}},{title:"卡号",key:"QuanText",minWidth:130},{title:"收货人",key:"Consignee",minWidth:110},{title:"收货人手机",key:"Phone",minWidth:110},{title:"收货人地址",key:"Address",minWidth:230},{title:"发货仓",key:"Supplier",minWidth:120},{title:"发货日期",key:"GetTime",minWidth:140},{title:"快递信息",key:"Express",minWidth:180,render:function(e,a){return e("div",[e("a",{on:{click:function(){t.searchExpress(a.row.Express,a.row.ExpressNo,a.row.OrderNumber)}}},a.row.Express+" "+a.row.ExpressNo)])}},{title:"套餐名称",key:"ActName",minWidth:200},{title:"套餐编号",key:"ActCode",minWidth:90},{title:"礼包名称",key:"GiftName",minWidth:160},{title:"下单时间",key:"AddTime",minWidth:160},{title:"操作",fixed:"right",key:"ProductName",width:110,align:"center",render:function(e,a){return e("div",[e("Poptip",{props:{transfer:!0,placement:"left"},on:{"on-ok":function(){t.Axios.post("/Manager/UnbindCoupon.ashx",t.Qs.stringify({token:localStorage.getItem("token"),id:a.row.Id})).then(function(e){0===e.data.error?(t.getData(),t.$Message.success("解绑成功")):t.$Message.warning(e.data.errorMsg)})}}},[e("a","全部操作"),e("Icon",{props:{type:"ios-arrow-down",color:"#2d8cf0"}}),e("div",{slot:"content"},[e("Button",{style:{display:1===a.row.State&&9!=t.formValidate.state?"block":"none",width:"100%"},on:{click:function(){t.ship(a.row.ID)}},props:{type:"text"}},"发货"),e("Button",{style:{display:6!==a.row.State&&9!=t.formValidate.state?"block":"none",width:"100%"},on:{click:function(){t.cancelOrder(a.row)}},props:{type:"text"}},"取消订单"),e("Button",{style:{display:6===a.row.State&&9!=t.formValidate.state?"block":"none",width:"100%"},on:{click:function(){t.undoCancel(a.row)}},props:{type:"text"}},"撤销取消"),e("Button",{style:{width:"100%"},on:{click:function(){t.openOperService(a.row)}},props:{type:"text"}},"客服处理")])])])}}],formValidate:{IsVip:"-1",state:"0",supplierid:"",ticketnumber:"",terraceId:"-1",ordernumber:"",proname:"",stockno:"",consignee:"",phone:"",giftcode:"",time:["",""],time1:["",""],price1:"",price2:"",ssq:"",actcode:""},supplierList:[],statusList:[],start:1,sortid:"1",orderNum:{},types:"",terraceList:[],express:[],expressMsg:"",express1:"",express2:""}},methods:{cancelOrder:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认要取消《"+t.OrderNumber+"》订单吗？",onOk:function(){e.Axios.post("/CancelOrder.ashx",{id:t.ID}).then(function(a){0===a.data.error?(e.statusNum(),e.getOrder(),e.$Message.success("取消《"+t.OrderNumber+"》订单成功！")):e.$Message.error(a.data.errorMsg)})}})},undoCancel:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认要撤销取消《"+t.OrderNumber+"》订单吗？",onOk:function(){e.Axios.post("/UndoCancel.ashx",{id:t.ID}).then(function(a){0===a.data.error?(e.statusNum(),e.getOrder(),e.$Message.success("撤销取消《"+t.OrderNumber+"》订单成功！")):e.$Message.error(a.data.errorMsg)})}})},openOperService:function(t){this.$refs.operService.info(t)},xzdq:function(t,e){this.formValidate.ssq=t,this.start=1,this.total=0,this.getOrder()},getSsq:function(){var t=this;t.Axios.post("/GetRegional.ashx").then(function(e){for(var a=0;a<e.data.data.length;a++){e.data.data[a].value=e.data.data[a].label;for(var r=0;r<e.data.data[a].children.length;r++)e.data.data[a].children[r].value=e.data.data[a].children[r].label,delete e.data.data[a].children[r].children}t.dataSite=e.data.data})},showModal3:function(t){this.proUrl=t,this.modal3=!0},group:function(t){this.types=t,this.start=1,this.total=0,"-1"===this.formValidate.state||"2"===this.formValidate.state||"6"===this.formValidate.state?this.sortid="2":this.sortid="1",this.getOrder()},onCopy:function(){this.$Message.success("复制成功")},searchExpress:function(t,e,a){var r=this;r.express1=t+" 【"+e+"】",r.express2=t+" "+e,r.Axios.post("/GetExpress.ashx",{expressnumber:e,expressname:t,ordernumber:a}).then(function(t){r.modal1=!0,0===t.data.error?r.express=t.data.data:(r.express=[],r.expressMsg=t.data.errorMsg)})},showSizer:function(t){this.pageSize=t,this.getOrder()},openPro:function(t){this.data[t].open?this.$set(this.data[t],"open",!1):this.$set(this.data[t],"open",!0)},affirm:function(t){var e=this;e.Axios.post("/Manage/Order/comfirmReOrder",e.Qs.stringify({idstr:t})).then(function(t){0===t.data.code?(e.getOrder(),e.statusNum(),e.$Message.success("退单成功！")):e.$Message.error(t.data.errorMsg)})},chargeback:function(t,e){this.modal2=!0,this.ReOrder.total=0,this.ReOrder.idstr=t,this.OrderNumber=e,this.getDetails(t)},alterPicture:function(t){return-1===t.indexOf("http:")?t:t.replace(/http:/,"")},ship:function(t){this.$refs.express.model=!0,this.$refs.express.formDynamic.idstr=t,this.$refs.express.formDynamic.Description="",this.$refs.express.formDynamic.items=[{Express:"",ExpressNo:""}]},batchReview:function(){this.checkAllGroup.length<1?this.$Message.warning("请选择要审核的订单"):this.review(this.checkAllGroup.join(","))},review:function(t){var e=this;this.Axios.post("/BatchAudit.ashx",{idstr:t}).then(function(t){0===t.data.error?(e.$Message.success("审核成功"),e.getOrder(),e.statusNum()):e.$Message.error(t.data.errorMsg)})},sorts:function(t){switch(t.order){case"asc":"AddTime"===t.key?this.sortid="1":this.sortid="3";break;case"desc":"AddTime"===t.key?this.sortid="2":this.sortid="4";break;default:this.sortid=""}this.getOrder()},paging:function(t){this.start=t,this.getOrder()},getOrder:function(t){var e=this;e.loading1=!0,e.tagArr=[],e.Axios.post("yc"!==e.types?"/GetOrderList.ashx":"/GetYcOrderList.ashx",{typeid:"yc"===e.types?"9"===e.formValidate.state?"1":"2":"",sortid:e.sortid,vid:1,IsVip:e.formValidate.IsVip,ticketnumber:e.formValidate.ticketnumber,state:e.formValidate.state,supplierid:e.formValidate.supplierid,platformid:e.formValidate.terraceId,ordernumber:e.formValidate.ordernumber,proname:e.formValidate.proname,stockno:e.formValidate.stockno,consignee:e.formValidate.consignee,phone:e.formValidate.phone,giftcode:e.formValidate.giftcode,price1:e.formValidate.price1,price2:e.formValidate.price2,begintime:e.formValidate.time[0],endtime:e.formValidate.time[1],begintime2:e.formValidate.time1[0],endtime2:e.formValidate.time1[1],address:e.formValidate.ssq,actcode:e.formValidate.actcode,page:e.start,pagesize:e.pageSize}).then(function(t){e.getOrderNum(),e.indeterminate=!1,e.checkAll=!1,e.checkAllGroup=[],0===t.data.error?(e.data=t.data.data,e.total=t.data.total):(e.data=[],e.total=0),e.loading1=!1})},dcdd:function(){this.modal=!0,this.tagArr=[];for(var t=parseInt(this.total/1e4),e=0,a=0;a<t;a++)this.tagArr.push({num1:e+1,num2:e+1e4}),e+=1e4;this.total%1e4!=0&&this.tagArr.push({num1:e+1,num2:e+this.total%1e4})},getDetails:function(t){var e=this;e.Axios.post("/GetOrderDetailed.ashx",{idstr:t}).then(function(t){0===t.data.error?(e.OperBtn=t.data.data,e.ReOrder.freight=t.data.Freight):e.$Message.error(t.data.errorMsg)})},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?(e.start=1,e.total=0,e.getOrder()):e.$Message.error("Fail!")})},handleReset:function(t){this.$refs[t].resetFields(),this.formValidate.price2="",this.formValidate.state="0","SUPPLIER"===this.supplier.userType&&(this.formValidate.supplierid=this.supplier.supplierId),this.getOrder()},applyReOrder:function(){var t=this;t.Axios.post("/Manage/Order/applyReOrder",t.Qs.stringify({idstr:t.ReOrder.idstr,total:t.ReOrder.total,remarks:t.ReOrder.remarks,freight:t.ReOrder.freight,prolist:i()(t.ReOrder.prolist)})).then(function(e){0===e.data.code?(t.$Message.success("已提交申请退单"),t.getOrder(t.formValidate.state>8?"yc":""),t.statusNum(),t.modal2=!1):t.$Message.warning(e.data.errorMsg)})},getStatus:function(){var t=this;t.statusNum(),t.Axios.get("/GetStateStr.ashx").then(function(e){t.statusList=e.data.data})},statusNum:function(){var t=this;t.Axios.get("/GetOrderNum.ashx").then(function(e){t.orderNum=e.data})},getOrderNum:function(){},getSupplier:function(){var t=this;t.Axios.get("/GetSupList.ashx").then(function(e){t.supplierList=e.data.data})},getTerrace:function(){var t=this;t.Axios.get("/GetPlaList.ashx").then(function(e){t.terraceList=e.data.data})},operChange:function(t){var e=this;e.ReOrder.prolist=[],t.forEach(function(t,a){e.ReOrder.prolist.push({id:String(t.ID),Price:t.Price,num:String(t.number)})}),this.totalPrices()},totalPrices:function(){var t=this;t.ReOrder.total=0,t.ReOrder.prolist.forEach(function(e,a){t.ReOrder.total+=e.Price*e.num})},download:function(t,e){var a="yc"===this.types?"9"===this.formValidate.state?"1":"2":"",r=this.formValidate.supplierid;window.open("/ExportOrderPage.ashx?typeid="+a+"&sortid="+this.sortid+"&vid=1&IsVip="+this.formValidate.IsVip+"&state="+this.formValidate.state+"&supplierid="+r+"&platformid="+this.formValidate.terraceId+"&ordernumber="+this.formValidate.ordernumber+"&proname="+this.formValidate.proname+"&stockno="+this.formValidate.stockno+"&consignee="+this.formValidate.consignee+"&phone="+this.formValidate.phone+"&price1="+this.formValidate.price1+"&price2="+this.formValidate.price2+"&ticketnumber="+this.formValidate.ticketnumber+"&giftcode="+this.formValidate.giftcode+"&begintime="+this.formValidate.time[0]+"&endtime="+this.formValidate.time[1]+"&begintime2="+this.formValidate.time1[0]+"&endtime2="+this.formValidate.time1[1]+"&address="+this.formValidate.ssq+"&actcode="+this.formValidate.actcode+"&page="+t+"&pagesize=10000"),this.$set(this.tagArr[e],"download",!0)},getTime:function(t){this.formValidate.time=[t[0],t[1]],this.start=1,this.total=0,this.getOrder()},getTime1:function(t){this.formValidate.time1=[t[0],t[1]],this.start=1,this.total=0,this.getOrder()},rowClassName:function(t,e){return 1===t.IsAbnormal?"demo-table-info-row":""},sup:function(){return"SUPPLIER"===this.supplier.userType?this.supplier.supplierId:this.formValidate.supplierid},handleCheckAll:function(){if(this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll){this.checkAllGroup=[];for(var t=0;t<this.data.length;t++)this.checkAllGroup.push(this.data[t].ID)}else this.checkAllGroup=[]},checkAllGroupChange:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].ID);this.checkAllGroup=e}},created:function(){"-1"===this.$route.params.id||"2"===this.$route.params.id||"6"===this.$route.params.id?this.sortid="2":this.sortid="1"},mounted:function(){this.supplier=JSON.parse(localStorage.getItem("supplier")),"SUPPLIER"===this.supplier.userType&&(this.formValidate.supplierid=this.supplier.supplierId),this.getOrder(),this.getSupplier(),this.getTerrace(),this.getStatus(),this.getSsq()}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("Card",{staticStyle:{border:"none",margin:"16px 0"}},[a("div",{staticClass:"ivu-page-header-title"},[t._v("订单列表")])]),t._v(" "),a("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      查询\n    ")]),t._v(" "),a("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":80}},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"订单状态："}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.orderNum.error,expression:"orderNum.error===0"}]},[a("RadioGroup",{on:{"on-change":function(e){t.group("")}},model:{value:t.formValidate.state,callback:function(e){t.$set(t.formValidate,"state",e)},expression:"formValidate.state"}},t._l(t.statusList,function(e,r){return a("Radio",{key:r,staticStyle:{padding:"0 20px 0 0"},attrs:{label:e.Id}},[t._v("\n                    "+t._s(e.Name)+" ("+t._s(t.orderNum["num"+String(r+1)])+")\n                  ")])})),t._v(" "),a("RadioGroup",{on:{"on-change":function(e){t.group("yc")}},model:{value:t.formValidate.state,callback:function(e){t.$set(t.formValidate,"state",e)},expression:"formValidate.state"}},[a("Radio",{attrs:{label:"9"}},[t._v("异常订单 ("+t._s(t.orderNum.num9)+")")])],1)],1)])],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"订单编号：",prop:"ordernumber"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.ordernumber,callback:function(e){t.$set(t.formValidate,"ordernumber",e)},expression:"formValidate.ordernumber"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"收货人：",prop:"consignee"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.consignee,callback:function(e){t.$set(t.formValidate,"consignee",e)},expression:"formValidate.consignee"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"手机号：",prop:"phone"}},[a("Input",{attrs:{maxlength:11,placeholder:"请输入"},on:{"on-keyup":function(e){t.formValidate.phone=t.formValidate.phone.replace(/[^\d]/g,"")}},model:{value:t.formValidate.phone,callback:function(e){t.$set(t.formValidate,"phone",e)},expression:"formValidate.phone"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"收货地址",prop:"ssq"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.ssq,callback:function(e){t.$set(t.formValidate,"ssq",e)},expression:"formValidate.ssq"}})],1)],1)],1),t._v(" "),a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"发货仓：",prop:"supplierid"}},[a("Select",{attrs:{disabled:"SUPPLIER"===t.supplier.userType},model:{value:t.formValidate.supplierid,callback:function(e){t.$set(t.formValidate,"supplierid",e)},expression:"formValidate.supplierid"}},t._l(t.supplierList,function(e,r){return a("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.supplierName)+"\n              ")])}))],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"下单时间：",prop:"time"}},[a("DatePicker",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{value:t.formValidate.time,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-start",placeholder:"请选择",editable:!1},on:{"on-change":t.getTime}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"预约发货：",prop:"time1"}},[a("DatePicker",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{options:t.options1,value:t.formValidate.time1,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-start",placeholder:"请选择",editable:!1},on:{"on-change":t.getTime1}})],1)],1)],1),t._v(" "),a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"产品编号：",prop:"stockno"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.stockno,callback:function(e){t.$set(t.formValidate,"stockno",e)},expression:"formValidate.stockno"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"产品名称：",prop:"proname"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.proname,callback:function(e){t.$set(t.formValidate,"proname",e)},expression:"formValidate.proname"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"VIP客户：",prop:"IsVip"}},[a("Select",{model:{value:t.formValidate.IsVip,callback:function(e){t.$set(t.formValidate,"IsVip",e)},expression:"formValidate.IsVip"}},[a("Option",{attrs:{value:"-1"}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("是")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("否")])],1)],1)],1)],1),t._v(" "),a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"卡号：",prop:"ticketnumber"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.ticketnumber,callback:function(e){t.$set(t.formValidate,"ticketnumber",e)},expression:"formValidate.ticketnumber"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"套餐编号：",prop:"actcode"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.actcode,callback:function(e){t.$set(t.formValidate,"actcode",e)},expression:"formValidate.actcode"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("FormItem",{attrs:{label:"礼包编号：",prop:"giftcode"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.giftcode,callback:function(e){t.$set(t.formValidate,"giftcode",e)},expression:"formValidate.giftcode"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:6}},[a("div",{staticStyle:{width:"100%","text-align":"right"}},[a("Button",{staticStyle:{"margin-right":"6px"},attrs:{icon:"ios-search-outline",type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("查询\n            ")]),t._v(" "),a("Button",{staticStyle:{"margin-right":"6px"},attrs:{icon:"md-refresh"},on:{click:function(e){t.handleReset("formValidate")}}},[t._v("重置")])],1)])],1)],1)],1),t._v(" "),a("Card",{staticClass:"card-warp",style:{margin:"0 20px 20px 20px",background:"#fff",height:"auto",padding:"0"}},[a("p",{staticStyle:{height:"24px",display:"flex","align-items":"center"},attrs:{slot:"title"},slot:"title"},[t._v("\n      订单列表\n      "),a("Select",{staticStyle:{width:"130px","margin-left":"10px","font-weight":"400"},attrs:{size:"small"},on:{"on-change":function(e){t.start=1,t.total=0,t.getOrder()}},model:{value:t.sortid,callback:function(e){t.sortid=e},expression:"sortid"}},[a("Option",{attrs:{value:"1"}},[t._v("按下单时间正序")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("按下单时间倒序")]),t._v(" "),a("Option",{attrs:{value:"3"}},[t._v("按发货时间正序")]),t._v(" "),a("Option",{attrs:{value:"4"}},[t._v("按发货时间倒序")])],1)],1),t._v(" "),a("p",{attrs:{slot:"extra"},slot:"extra"},[a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:"0"===t.formValidate.state,expression:"formValidate.state==='0'"}]},[t.checkAllGroup.length>0?a("Poptip",{attrs:{confirm:"",title:"是否确定批量审核订单？"},on:{"on-ok":t.batchReview}},[a("Button",{attrs:{type:"text",icon:"md-list-box"},on:{click:function(t){}}},[t._v("批量审核")])],1):a("Button",{attrs:{type:"text",icon:"md-list-box"},on:{click:function(e){t.$Message.warning("请选择要审核的订单")}}},[t._v("批量审核")])],1)]),t._v(" "),t.data.length>0?a("ButtonGroup",[a("Button",{attrs:{type:"text",icon:"md-cloud-download"},on:{click:t.dcdd}},[t._v("导出订单")])],1):t._e(),t._v(" "),"1"===t.formValidate.state?a("span",[a("Divider",{attrs:{type:"vertical"}}),t._v(" "),a("a",{staticStyle:{float:"right"},attrs:{href:"https://ylcgenterprise.oss-cn-shanghai.aliyuncs.com/newmoban.xls",download:"muban"}},[a("Button",{attrs:{type:"text"}},[t._v("下载发货模板")])],1),t._v(" "),a("Upload",{staticStyle:{float:"right"}})],1):t._e()],1),t._v(" "),a("Table",{attrs:{loading:t.loading1,"show-header":!0,"disabled-hover":!0,columns:t.columns,data:t.data},on:{"on-selection-change":t.checkAllGroupChange}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.length<1,expression:"!data.length<1"}],staticClass:"Page-wrap"},[a("Page",{attrs:{placement:"top",total:t.total,"page-size":10,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":t.paging,"on-page-size-change":t.showSizer}})],1)],1),t._v(" "),a("express",{ref:"express",on:{statusNum:t.statusNum,getOrder:function(e){t.getOrder(t.formValidate.state>8?"yc":"")}}}),t._v(" "),a("BackTop",{attrs:{height:30,bottom:30}},[a("div",{staticClass:"ivu-back-top-inner"},[a("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-up"})])]),t._v(" "),a("Modal",{attrs:{width:"460"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("导出订单")])],1),t._v(" "),a("div",{staticStyle:{"max-height":"400px",overflow:"auto"}},t._l(t.tagArr,function(e,r){return a("div",{key:r,staticClass:"tag-dow ivu-tag ivu-tag-default ivu-tag-checked",attrs:{"data-v-1af71c2b":""},on:{click:function(e){t.download(r+1,r)}}},[a("span",{staticClass:"ivu-tag-text"},[t._v("\n        "+t._s(e.num1)+"-"+t._s(e.num2)+"条\n          "),!0===e.download?a("Icon",{attrs:{type:"md-checkmark"}}):t._e()],1)])})),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:function(e){t.modal=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("Modal",{attrs:{width:"460"},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("物流信息")])],1),t._v(" "),a("div",{staticStyle:{"max-height":"400px",overflow:"auto"}},[a("div",{staticClass:"express-num"},[a("Alert",{staticStyle:{float:"left"}},[t._v(t._s(t.express1))]),t._v(" "),a("Button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.express2,expression:"express2",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticStyle:{float:"left","margin-left":"16px"},attrs:{type:"info"}},[t._v("复制\n        ")])],1),t._v(" "),t.express.length>0?a("div",{staticStyle:{float:"left"}},[a("Timeline",t._l(t.express,function(e,r){return a("TimelineItem",{key:r},[a("p",{staticClass:"time"},[t._v(t._s(e.time))]),t._v(" "),a("p",{staticClass:"content"},[t._v(t._s(e.context))])])}))],1):a("p",{staticStyle:{float:"left",width:"100%"}},[t._v(t._s(t.expressMsg))])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.modal1=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("Modal",{attrs:{width:"460"},model:{value:t.modal3,callback:function(e){t.modal3=e},expression:"modal3"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),a("span",[t._v("产品图片")])],1),t._v(" "),a("div",{staticStyle:{"max-height":"500px",overflow:"auto"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:t.proUrl,alt:""}})]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.modal3=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("operService",{ref:"operService"}),t._v(" "),a("Product",{ref:"product",on:{showModal3:t.showModal3}})],1)},staticRenderFns:[]};var h=a("VU/8")(p,u,!1,function(t){a("tcvr"),a("1D7j")},"data-v-3e8aba6e",null);e.default=h.exports},tcvr:function(t,e){},zsws:function(t,e){}});