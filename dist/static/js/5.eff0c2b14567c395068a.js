webpackJsonp([5],{"26C+":function(t,e){},TsoD:function(t,e){},pFzY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={components:{upImg:a("JNXG").a},data:function(){var t=this;return{loading1:!0,total:0,start:1,columns:[{type:"index",width:60,align:"center"},{title:"分类",tooltip:!0,key:"name",minWidth:120,align:"center"},{title:"级别",tooltip:!0,key:"treeLevel",minWidth:120,align:"center"},{title:"商品数量",tooltip:!0,key:"productCount",minWidth:120,align:"center"},{title:"排序",tooltip:!0,key:"sortsNum",minWidth:120,align:"center",sortable:"custom"},{title:"设置",tooltip:!0,key:"ProductName",width:180,align:"center",render:function(e,a){return"3"===t.$route.query.treeLevel?e("a","暂无功能"):e("div",[e("a",{on:{click:function(){var e=t.$router.resolve({path:"/addClassify",query:{parentId:a.row.id,name:a.row.name}});window.open(e.href,"_blank")}}},"新增下级"),e("Divider",{props:{type:"vertical"}}),e("a",{on:{click:function(){var e=t.$router.resolve({path:"/classify",query:{treeLevel:a.row.treeLevel+1,parentId:a.row.id,name:a.row.name}});window.open(e.href,"_blank")}}},"查看下级")])}},{title:"操作",tooltip:!0,key:"ProductName",width:160,align:"center",render:function(e,a){return e("div",[e("a",{on:{click:function(){var e=t.$router.resolve({path:"/addClassify",query:{id:a.row.id,parentId:a.row.parentId}});window.open(e.href,"_blank")}}},"编辑"),e("Divider",{props:{type:"vertical"}}),e("Poptip",{props:{confirm:!0,transfer:!0,title:"确定删除该分类？"},on:{"on-ok":function(){var e=t;e.Axios.post("/Manage/Category/deleteCategory",e.Qs.stringify({id:a.row.id},{indices:!1})).then(function(t){0===t.data.code?(e.getClassify(),e.$Message.success("删除成功")):e.$Message.warning(t.data.message)})}}},[e("a","删除")])])}}],data:[],sortsNum:"normal"}},methods:{getClassify:function(){var t=this;t.loading1=!0,t.Axios.get("/Manage/Category/pageList",{params:{start:t.start-1,size:10,treeLevel:t.$route.query.treeLevel?t.$route.query.treeLevel:"1",parentId:t.$route.query.parentId?t.$route.query.parentId:"",sortsNumAsc:"normal"===t.sortsNum?"":"asc"===t.sortsNum}}).then(function(e){0===e.data.code?(t.data=e.data.data.content,t.total=e.data.data.totalElements):t.$Message.warning(e.data.message),t.loading1=!1})},paging:function(t){this.start=t,this.getClassify()},sorts:function(t){switch(t.key){case"sortsNum":this.sortsNum=t.order}this.getClassify()}},mounted:function(){this.getClassify()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("Card",{staticStyle:{border:"none",margin:"16px 0"}},[a("div",{staticClass:"ivu-page-header-title"},[t._v("商品分类")])]),t._v(" "),a("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      数据列表\n    ")]),t._v(" "),a("router-link",{attrs:{target:"_blank",to:{path:"/addClassify",query:{parentId:t.$route.query.parentId,name:t.$route.query.name}}}},[a("Button",{staticStyle:{width:"100%","margin-bottom":"16px"},attrs:{type:"dashed"}},[t._v("添加")])],1),t._v(" "),a("Table",{attrs:{loading:t.loading1,"show-header":!0,columns:t.columns,data:t.data},on:{"on-sort-change":t.sorts}}),t._v(" "),a("div",{staticStyle:{width:"100%",height:"8px",background:"#ffffff","margin-top":"-4px","z-index":"99",position:"relative"}}),t._v(" "),a("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"15px"}},[a("Page",{attrs:{total:Number(t.total),"page-size":10,"show-elevator":"","show-total":""},on:{"on-change":t.paging}})],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(t){a("26C+"),a("TsoD")},"data-v-fd59bf4a",null);e.default=o.exports}});