webpackJsonp([0],{JNXG:function(e,t,i){"use strict";var s=i("gApy"),a=i.n(s),n={props:["num"],data:function(){return{policyData:{},defaultList:[],imgName:"",visible:!1,uploadList:[],index:1}},methods:{handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleRemove1:function(e){this.$refs.upload.fileList;this.$refs.upload.fileList.splice(0,this.uploadList.length)},handleSuccess:function(e,t){t.filename=t.response.data.filename},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"图片大小不能超过1MB"})},handleBeforeUpload:function(){var e=this.num?this.num:1,t=this.uploadList.length<e;return t||this.$Notice.warning({title:"最多只能上传"+e+"张图片"}),t},upload:function(){var e=this;setTimeout(function(){e.uploadList=e.$refs.upload.fileList},800)},key:function(){return this.policyData.dir+"/"+a()()},policy:function(){var e=this;e.Axios.get("/aliyun/oss/policy").then(function(t){e.policyData=t.data.data})}},mounted:function(){this.uploadList=this.$refs.upload.fileList,this.upload(),this.policy();var e=this;setInterval(function(){e.policy()},18e4)}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[e._l(e.uploadList,function(t){return i("div",{staticClass:"demo-upload-list"},["finished"===t.status?[i("img",{attrs:{src:t.filename+"?x-oss-process=image/resize,m_pad,h_100,w_100,color_FFFFFF"}}),e._v(" "),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(i){e.handleView(t.filename)}}}),e._v(" "),i("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],attrs:{type:"ios-trash-outline"},nativeOn:{click:function(i){e.handleRemove(t)}}})],1)]:[t.showProgress?i("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),e._v(" "),i("Upload",{directives:[{name:"show",rawName:"v-show",value:!e.$route.query.examineId,expression:"!$route.query.examineId"}],ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":1024,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:!0,data:{callback:e.policyData.callback,policy:e.policyData.policy,signature:e.policyData.signature,key:e.key(),ossaccessKeyId:e.policyData.accessKeyId,dir:e.policyData.dir,host:"http://ylmanager.oss-cn-shanghai.aliyuncs.com",success_action_status:"200"},type:"drag",action:"https://ylmanager.oss-cn-shanghai.aliyuncs.com"}},[i("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[i("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),e._v(" "),i("Modal",{attrs:{title:"View Image",width:"300"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?i("img",{staticStyle:{width:"100%"},attrs:{src:e.imgName}}):e._e(),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.visible=!e.visible}}},[e._v("确定")])],1)])],2)},staticRenderFns:[]};var r=i("VU/8")(n,o,!1,function(e){i("jZ8I")},null,null);t.a=r.exports},MAlW:function(e,t){for(var i=[],s=0;s<256;++s)i[s]=(s+256).toString(16).substr(1);e.exports=function(e,t){var s=t||0,a=i;return[a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],"-",a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]],a[e[s++]]].join("")}},gApy:function(e,t,i){var s,a,n=i("i4uy"),o=i("MAlW"),r=0,l=0;e.exports=function(e,t,i){var c=t&&i||0,u=t||[],d=(e=e||{}).node||s,p=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==p){var f=n();null==d&&(d=s=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=a=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,v=h-r+(m-l)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||h>r)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=h,l=m,a=p;var y=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=y>>>24&255,u[c++]=y>>>16&255,u[c++]=y>>>8&255,u[c++]=255&y;var g=h/4294967296*1e4&268435455;u[c++]=g>>>8&255,u[c++]=255&g,u[c++]=g>>>24&15|16,u[c++]=g>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var w=0;w<6;++w)u[c+w]=d[w];return t||o(u)}},i4uy:function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var s=new Uint8Array(16);e.exports=function(){return i(s),s}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},jZ8I:function(e,t){}});
//# sourceMappingURL=0.3981f3a5ff784868d457.js.map