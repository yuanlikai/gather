webpackJsonp([18],{"N+K/":function(t,e){},vxII:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={data:function(){var t=this;return{loading1:!0,formValidate:{locked:"",supplierNameLike:"",abbrSupplierNameLike:"",supplierNoLike:"",productCountAsc:"normal",productLimAsc:"normal",brandCountAsc:"normal"},columns:[{type:"index",width:60,align:"center"},{title:"企业名",tooltip:!0,align:"center",key:"supplierName"},{title:"简称",tooltip:!0,align:"center",key:"abbrSupplierName"},{title:"字母编号",tooltip:!0,key:"supplierNo",align:"center"},{title:"商品数",align:"center",key:"productCount",sortable:"custom"},{title:"关联平台",tooltip:!0,key:"abbrPlatformNames",align:"center"},{title:"SKU数量限制",tooltip:!0,key:"productLim",align:"center",sortable:"custom"},{title:"关联品牌",tooltip:!0,key:"brandCount",align:"center",sortable:"custom"},{title:"状态",tooltip:!0,key:"locked",align:"center",render:function(e,a){return e("i-switch",{props:{value:!a.row.locked,size:"small"},on:{"on-change":function(e){t.Axios.post("/Manage/Supplier/updateLock",t.Qs.stringify({id:a.row.id,lock:!a.row.locked})).then(function(e){0===e.data.code?t.getList():t.$Message.warning(e.data.message)})}}})}},{title:"操作",tooltip:!0,key:"ProductName",width:150,align:"center",render:function(e,a){return e("div",[e("div",[e("a",{on:{click:function(){var e=t.$router.resolve({path:"/addSupplier",query:{id:a.row.id}});window.open(e.href,"_blank")}}},"编辑"),e("Divider",{props:{type:"vertical"}}),e("a",{on:{click:function(){var e=t.$router.resolve({path:"/relevance",query:{id:a.row.id,name:a.row.supplierName}});window.open(e.href,"_blank")}}},"关联")])])}}],data:[],total:0,start:1,treeData:[],brandList:[],selection:[]}},methods:{screen:function(t){this.resetPage(),this.getList()},getList:function(){var t=this;t.loading1=!0,t.Axios.get("/Manage/Supplier/pageList",{params:{start:t.start-1,size:10,supplierNameLike:t.formValidate.supplierNameLike,abbrSupplierNameLike:t.formValidate.abbrSupplierNameLike,supplierNoLike:t.formValidate.supplierNoLike,locked:t.formValidate.locked,productCountAsc:"normal"===t.formValidate.productCountAsc?"":"asc"===t.formValidate.productCountAsc?"true":"false",productLimAsc:"normal"===t.formValidate.productLimAsc?"":"asc"===t.formValidate.productLimAsc?"true":"false",brandCountAsc:"normal"===t.formValidate.brandCountAsc?"":"asc"===t.formValidate.brandCountAsc?"true":"false",recycleBin:!1}}).then(function(e){0===e.data.code?(t.data=e.data.data.content,t.total=e.data.data.totalElements):t.$Message.warning(e.data.message),t.loading1=!1})},paging:function(t){this.start=t,this.getList()},handleReset:function(t){this.$refs[t].resetFields(),this.resetPage(),this.formValidate.brandId="",this.getList()},sortData:function(t){switch(this.loading1=!0,this.formValidate.productCountAsc="normal",this.formValidate.productLimAsc="normal",this.formValidate.brandCountAsc="normal",this.formValidate.productCountAsc="normal",t.key){case"productCount":this.formValidate.productCountAsc=t.order;break;case"productLim":this.formValidate.productLimAsc=t.order;break;case"brandCount":this.formValidate.brandCountAsc=t.order}this.getList()},resetPage:function(){this.start=1,this.total=0}},mounted:function(){this.getList()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("Card",{staticStyle:{border:"none",margin:"16px 0"}},[a("div",{staticClass:"ivu-page-header-title"},[t._v("供应商设置")])]),t._v(" "),a("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      筛选查询\n    ")]),t._v(" "),a("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":80}},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"企业名：",prop:"supplierNameLike"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.supplierNameLike,callback:function(e){t.$set(t.formValidate,"supplierNameLike",e)},expression:"formValidate.supplierNameLike"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"简称：",prop:"abbrSupplierNameLike"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.abbrSupplierNameLike,callback:function(e){t.$set(t.formValidate,"abbrSupplierNameLike",e)},expression:"formValidate.abbrSupplierNameLike"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"代号：",prop:"supplierNoLike"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.supplierNoLike,callback:function(e){t.$set(t.formValidate,"supplierNoLike",e)},expression:"formValidate.supplierNoLike"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"状态：",prop:"locked"}},[a("Select",{attrs:{clearable:""},on:{"on-change":function(e){t.resetPage(),t.getList()}},model:{value:t.formValidate.locked,callback:function(e){t.$set(t.formValidate,"locked",e)},expression:"formValidate.locked"}},[a("Option",{attrs:{value:"false"}},[t._v("启用")]),t._v(" "),a("Option",{attrs:{value:"true"}},[t._v("停用")])],1)],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:24,lg:8}},[a("FormItem",[a("Button",{staticStyle:{"margin-right":"6px"},attrs:{type:"primary"},on:{click:function(e){t.resetPage(),t.getList()}}},[t._v("查询")]),t._v(" "),a("Button",{staticStyle:{"margin-right":"6px"},on:{click:function(e){t.handleReset("formValidate")}}},[t._v("重置")])],1)],1)],1)],1)],1),t._v(" "),a("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      数据列表\n    ")]),t._v(" "),a("router-link",{attrs:{target:"_blank",to:{path:"/addSupplier",query:{parentId:t.$route.query.parentId,name:t.$route.query.name}}}},[a("Button",{staticStyle:{width:"100%","margin-bottom":"16px"},attrs:{type:"dashed"}},[t._v("添加")])],1),t._v(" "),a("Table",{attrs:{loading:t.loading1,"show-header":!0,columns:t.columns,data:t.data},on:{"on-sort-change":t.sortData}}),t._v(" "),a("div",{staticStyle:{width:"100%",height:"8px",background:"#ffffff","margin-top":"-4px","z-index":"99",position:"relative"}}),t._v(" "),a("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"15px"}},[a("Page",{attrs:{total:Number(t.total),"page-size":10,"show-elevator":"","show-total":""},on:{"on-change":t.paging}})],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(r,i,!1,function(t){a("N+K/")},"data-v-700d531c",null);e.default=o.exports}});