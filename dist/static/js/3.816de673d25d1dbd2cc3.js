webpackJsonp([3],{VOIv:function(t,e){},"ZI+Q":function(t,e){},aEKa:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("mvHQ"),i=r.n(a),o=r("lDlD"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Upload",{attrs:{action:"/Upload/SupplierAdmin/UploadExpressLog.aspx",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",format:["xls","xlsx"],"show-upload-list":!1,"on-success":this.uploadsuccess}},[e("Button",{attrs:{type:"dashed",icon:"ios-cloud-upload-outline"}},[this._v("批量发货")])],1)},staticRenderFns:[]},n=r("VU/8")({methods:{uploadsuccess:function(t,e,r){""!==t.msg?this.$Message.success("文件上传成功！"):this.$Message.error("文件上传失败")}}},s,!1,null,null,null).exports,l={components:{express:o.a,Upload:n},props:["supplier"],data:function(){var t=this;return{total:0,modal2:!1,loading1:!1,OrderNumber:"",ReOrder:{dstr:"",total:0,remarks:"",freight:0,prolist:[]},columns1:[{type:"selection",width:60,align:"center"},{title:"商品名称",tooltip:!0,key:"ProductName",minWidth:120,align:"center"},{title:"货号",tooltip:!0,key:"StockNo",minWidth:88,align:"center"},{title:"数量",tooltip:!0,key:"Num",minWidth:88,align:"center"},{title:"单价",tooltip:!0,key:"Price",minWidth:88,align:"center"},{title:"小计",tooltip:!0,key:"SumPrice",minWidth:88,align:"center"},{title:"退货数量",minWidth:88,align:"center",key:"asdadasda",render:function(e,r){return t.OperBtn[r.index].number=Number(r.row.Num),e("div",[e("InputNumber",{props:{value:Number(r.row.Num),size:"small",min:1,max:Number(r.row.Num)},style:{width:"60px"},on:{"on-change":function(e){var a=t;for(var i in a.OperBtn[r.index].number=Number(e),a.ReOrder.prolist)a.ReOrder.prolist[i].id==r.row.ID&&(a.ReOrder.prolist[i].num=String(e));t.totalPrices()}}})])}}],OperBtn:[],columns:[{type:"index",width:60,align:"center"},{title:"OMS单号",tooltip:!0,key:"ErpOrderNumber",minWidth:100,align:"center"},{title:"订单编号",key:"OrderNumber",minWidth:100,tooltip:!0,align:"center"},{title:"下单时间",key:"AddTime",minWidth:110,tooltip:!0,align:"center",sortable:"custom"},{title:"发货时间",key:"GetTime",minWidth:110,tooltip:!0,align:"center"},{title:"来源平台",key:"PlatformStr",minWidth:88,maxWidth:120,tooltip:!0,align:"center"},{title:"礼包编号",key:"Remarks",minWidth:88,maxWidth:120,tooltip:!0,align:"center"},{title:"订单状态",key:"StateStr",maxWidth:120,minWidth:88,align:"center"},{title:"订单金额",key:"Total",minWidth:110,maxWidth:120,align:"center",sortable:"custom"},{title:"供应商",key:"Supplier",minWidth:88,maxWidth:120,tooltip:!0,align:"center"},{title:"收货人",key:"Consignee",minWidth:88,maxWidth:120,tooltip:!0,align:"center"},{title:"手机号",key:"Phone",tooltip:!0,minWidth:88,maxWidth:120,align:"center"},{title:"订单产品",key:"ProName",minWidth:88,maxWidth:120,align:"center",render:function(t,e){return t("Tooltip",{props:{placement:"left","max-width":320},style:{width:"100%"}},[t("p",{style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},e.row.ProName),t("div",{slot:"content"},e.row.ProName.split("、").map(function(e,r){return t("div",{style:{width:"100%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},e)}))])}},{title:"操作",align:"center",width:130,render:function(e,r){var a=void 0;return 9==t.formValidate.state?a="":1===r.row.State?a=e("a",{on:{click:function(){var e=t;e.$refs.express.model=!0,e.$refs.express.formDynamic.idstr=r.row.ID,e.$refs.express.formDynamic.items=[{Express:"",ExpressNo:""}]}}},"发货"):0===r.row.State?a=e("Poptip",{props:{confirm:!0,transfer:!0,title:"确定审核该订单？"},on:{"on-ok":function(){var e=t;e.Axios.post("/Manage/Order/updateOrder",e.Qs.stringify({idstr:r.row.ID,statusid:1,Express:"",ExpressNo:"",Description:""})).then(function(t){0===t.data.error?(e.$Message.success("审核成功"),e.getOrder(),e.modal1=!1):e.$Message.error(t.data.errorMsg)})}}},[e("a","审核")]):2===r.row.State?a=e("a",{on:{click:function(){var e=t;e.modal2=!0,e.ReOrder.total=0,e.ReOrder.idstr=r.row.ID,e.OrderNumber=r.row.OrderNumber,e.getDetails(r.row.ID)}}},"申请退单"):5===r.row.State&&(a=e("Poptip",{props:{confirm:!0,transfer:!0,title:"确定同意该退单申请？"},on:{"on-ok":function(){var e=t;e.Axios.post("/Manage/Order/comfirmReOrder",e.Qs.stringify({idstr:r.row.ID})).then(function(t){0===t.data.code?(e.getOrder(),e.$Message.success("退单成功！")):e.$Message.error(t.data.errorMsg)})}}},[e("a","确认退单")])),e("div",[a,e("Divider",{style:{display:9==t.formValidate.state?"none":6===r.row.State?"none":"inline-block"},props:{type:"vertical"}}),e("a",{on:{click:function(){var e=t,a=t.$router.resolve({path:"/orderDetails",query:{idstr:r.row.ID,abnormal:9==e.formValidate.state}});window.open(a.href,"_blank")}}},"详情")])}}],data:[],formValidate:{state:this.$route.params.id?this.$route.params.id:"0",supplierid:"",ticketnumber:"",terraceId:"-1",ordernumber:"",proname:"",stockno:"",consignee:"",phone:"",time:["",""],time1:["",""],price1:"",price2:""},supplierList:[],statusList:[],start:1,sortid:"",orderNum:{},types:"",terraceList:[]}},methods:{sorts:function(t){switch(t.order){case"asc":"AddTime"===t.key?this.sortid="1":this.sortid="3";break;case"desc":"AddTime"===t.key?this.sortid="2":this.sortid="4";break;default:this.sortid=""}this.getOrder(this.formValidate.state>8?"yc":"")},paging:function(t){this.start=t,this.getOrder(this.formValidate.state>8?"yc":"")},getOrder:function(t){var e=this;e.loading1=!0,e.Axios.get("yc"!==e.types?"/Manage/Order/pageList":"/Manage/Order/getYcOrderList",{params:{typeid:"yc"===e.types?"9"===e.formValidate.state?"1":"2":"",sortid:e.sortid,ticketnumber:e.formValidate.ticketnumber,state:e.formValidate.state,supplierid:e.formValidate.supplierid?e.formValidate.supplierid:"-1",platformid:e.formValidate.terraceId,ordernumber:e.formValidate.ordernumber,proname:e.formValidate.proname,stockno:e.formValidate.stockno,consignee:e.formValidate.consignee,phone:e.formValidate.phone,price1:e.formValidate.price1,price2:e.formValidate.price2,begintime:e.formValidate.time[0],endtime:e.formValidate.time[1],begintime2:e.formValidate.time1[0],endtime2:e.formValidate.time1[1],page:e.start,pagesize:"10"}}).then(function(t){e.getOrderNum(),0===t.data.error?(e.data=t.data.data,e.total=t.data.total):(e.data=[],e.total=0),e.loading1=!1})},getDetails:function(t){var e=this;e.Axios.get("/Manage/Order/detail",{params:{idstr:t}}).then(function(t){0===t.data.error?(e.OperBtn=t.data.data,e.ReOrder.freight=t.data.Freight):e.$Message.error(t.data.errorMsg)})},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?(e.start=1,e.total=0,e.getOrder()):e.$Message.error("Fail!")})},handleReset:function(t){this.$refs[t].resetFields(),this.formValidate.price2="",this.getOrder()},applyReOrder:function(){var t=this;t.Axios.post("/Manage/Order/applyReOrder",t.Qs.stringify({idstr:t.ReOrder.idstr,total:t.ReOrder.total,remarks:t.ReOrder.remarks,freight:t.ReOrder.freight,prolist:i()(t.ReOrder.prolist)})).then(function(e){0===e.data.code?(t.$Message.success("已提交申请退单"),t.getOrder(t.formValidate.state>8?"yc":""),t.modal2=!1):t.$Message.warning(e.data.errorMsg)})},getStatus:function(){var t=this;t.Axios.get("/Manage/Order/getStateStr").then(function(e){t.statusList=e.data.data})},getOrderNum:function(){var t=this;t.Axios.get("/Manage/Order/getOrderNum").then(function(e){t.orderNum=e.data})},getSupplier:function(){var t=this;t.Axios.get("/Manage/Supplier/selectList").then(function(e){t.supplierList=e.data.data})},getTerrace:function(){var t=this;t.Axios.get("/Manage/Platform/list").then(function(e){t.terraceList=e.data.data})},operChange:function(t){var e=this;e.ReOrder.prolist=[],t.forEach(function(t,r){e.ReOrder.prolist.push({id:String(t.ID),Price:t.Price,num:String(t.number)})}),this.totalPrices()},totalPrices:function(){var t=this;t.ReOrder.total=0,t.ReOrder.prolist.forEach(function(e,r){t.ReOrder.total+=e.Price*e.num})},getTime:function(t){this.formValidate.time=[t[0],t[1]],this.start=1,this.total=0,this.getOrder()},getTime1:function(t){this.formValidate.time1=[t[0],t[1]],this.start=1,this.total=0,this.getOrder()},rowClassName:function(t,e){return 1===t.IsAbnormal?"demo-table-info-row":""},sup:function(){return"SUPPLIER"===this.supplier.userType?this.supplier.supplierId:this.formValidate.supplierid}},mounted:function(){this.getOrder(),this.getSupplier(),this.getTerrace(),this.getStatus()}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("Card",{staticStyle:{border:"none",margin:"16px 0"}},[r("div",{staticClass:"ivu-page-header-title"},[t._v("订单列表")])]),t._v(" "),r("RadioGroup",{style:{margin:"0 0 0 20px",background:"#fff",height:"auto"},attrs:{size:"large",type:"button"},on:{"on-change":function(e){t.types="",t.start=1,t.total=0,t.getOrder()}},model:{value:t.formValidate.state,callback:function(e){t.$set(t.formValidate,"state",e)},expression:"formValidate.state"}},t._l(t.statusList,function(e,a){return r("Radio",{key:a,staticStyle:{padding:"0 20px"},attrs:{label:e.Id}},[t._v("\n      "+t._s(e.Name)+" ("+t._s(t.orderNum["num"+String(a+1)])+")\n    ")])})),t._v(" "),r("RadioGroup",{style:{margin:"0 20px 0 20px",background:"#fff",height:"auto"},attrs:{size:"large",type:"button"},on:{"on-change":function(e){t.types="yc",t.start=1,t.getOrder("yc")}},model:{value:t.formValidate.state,callback:function(e){t.$set(t.formValidate,"state",e)},expression:"formValidate.state"}},[r("Radio",{staticStyle:{padding:"0 20px"},attrs:{label:"9"}},[t._v("异常订单 ("+t._s(t.orderNum.num9)+")")]),t._v(" "),r("Radio",{staticStyle:{padding:"0 20px"},attrs:{label:"10"}},[t._v("超时发货 ("+t._s(t.orderNum.num10)+")")])],1),t._v(" "),r("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[r("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      筛选查询\n    ")]),t._v(" "),r("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":80}},[r("Row",{attrs:{gutter:30}},[r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"供应商：",prop:"supplierid"}},[r("Select",{attrs:{disabled:"SUPPLIER"===t.supplier.userType,clearable:"",filterable:""},on:{"on-change":function(e){t.start=1,t.total=0,t.getOrder()}},model:{value:"SUPPLIER"===t.supplier.userType?t.supplier.supplierId:t.formValidate.supplierid,callback:function(e){t.$set("SUPPLIER"===t.supplier.userType?t.supplier.supplierId:t.formValidate,"supplierid",e)},expression:"supplier.userType==='SUPPLIER'?supplier.supplierId:formValidate.supplierid"}},t._l(t.supplierList,function(e,a){return r("Option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.supplierName)+"\n              ")])}))],1)],1),t._v(" "),"SUPPLIER"!==t.supplier.userType?r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"来源平台：",prop:"terraceId"}},[r("Select",{attrs:{disabled:"SUPPLIER"===t.supplier.userType},on:{"on-change":function(e){t.start=1,t.total=0,t.getOrder()}},model:{value:t.formValidate.terraceId,callback:function(e){t.$set(t.formValidate,"terraceId",e)},expression:"formValidate.terraceId"}},[r("Option",{attrs:{value:"-1"}},[t._v("全部")]),t._v(" "),t._l(t.terraceList,function(e,a){return r("Option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.platformName)+"\n              ")])})],2)],1)],1):t._e(),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"订单编号：",prop:"ordernumber"}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.ordernumber,callback:function(e){t.$set(t.formValidate,"ordernumber",e)},expression:"formValidate.ordernumber"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"商品名称：",prop:"proname"}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.proname,callback:function(e){t.$set(t.formValidate,"proname",e)},expression:"formValidate.proname"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"产品货号：",prop:"stockno"}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.stockno,callback:function(e){t.$set(t.formValidate,"stockno",e)},expression:"formValidate.stockno"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"收货人：",prop:"consignee"}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.consignee,callback:function(e){t.$set(t.formValidate,"consignee",e)},expression:"formValidate.consignee"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"手机号：",prop:"phone"}},[r("Input",{attrs:{maxlength:11,placeholder:"请输入"},on:{"on-keyup":function(e){t.formValidate.phone=t.formValidate.phone.replace(/[^\d]/g,"")}},model:{value:t.formValidate.phone,callback:function(e){t.$set(t.formValidate,"phone",e)},expression:"formValidate.phone"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"下单时间：",prop:"time"}},[r("DatePicker",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{format:"yyyy/MM/dd",type:"daterange",placement:"bottom-start",placeholder:"请选择",editable:!1},on:{"on-change":t.getTime},model:{value:t.formValidate.time,callback:function(e){t.$set(t.formValidate,"time",e)},expression:"formValidate.time"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"发货时间：",prop:"time1"}},[r("DatePicker",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{format:"yyyy/MM/dd",type:"daterange",placement:"bottom-start",placeholder:"请选择",editable:!1},on:{"on-change":t.getTime1},model:{value:t.formValidate.time1,callback:function(e){t.$set(t.formValidate,"time1",e)},expression:"formValidate.time1"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"订单金额：",prop:"price1"}},[r("div",{staticStyle:{width:"280px"}},[r("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入"},on:{"on-keyup":function(e){t.formValidate.price1=t.formValidate.price1.replace(/[^\d]/g,"")}},model:{value:t.formValidate.price1,callback:function(e){t.$set(t.formValidate,"price1",e)},expression:"formValidate.price1"}}),t._v("\n              -\n              "),r("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入"},on:{"on-keyup":function(e){t.formValidate.price2=t.formValidate.price2.replace(/[^\d]/g,"")}},model:{value:t.formValidate.price2,callback:function(e){t.$set(t.formValidate,"price2",e)},expression:"formValidate.price2"}})],1)])],1),t._v(" "),r("Col",{attrs:{xs:24,md:12,lg:8}},[r("FormItem",{attrs:{label:"券号：",prop:"ticketnumber"}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.ticketnumber,callback:function(e){t.$set(t.formValidate,"ticketnumber",e)},expression:"formValidate.ticketnumber"}})],1)],1),t._v(" "),r("Col",{attrs:{xs:24,md:24,lg:8}},[r("FormItem",[r("Button",{staticStyle:{"margin-right":"6px"},attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("查询")]),t._v(" "),r("Button",{staticStyle:{"margin-right":"6px"},on:{click:function(e){t.handleReset("formValidate")}}},[t._v("重置")])],1)],1)],1)],1)],1),t._v(" "),r("Card",{style:{margin:"0 20px 20px 20px",background:"#fff",height:"auto"}},[r("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      数据列表\n    ")]),t._v(" "),r("p",{attrs:{slot:"extra"},slot:"extra"},[r("ButtonGroup",[r("a",{attrs:{href:"/Manage/Order/exprotOrderExcel?state="+t.formValidate.state+"&supplierid="+t.sup()+"&allField="+t.supplier.allField+"&ordernumber="+t.formValidate.ordernumber+"&ticketnumber="+t.formValidate.ticketnumber+"&proname="+t.formValidate.proname+"&stockno="+t.formValidate.stockno+"&consignee="+t.formValidate.consignee+"&phone="+t.formValidate.phone+"&price1="+t.formValidate.price1+"&price2="+t.formValidate.price2+"&begintime2="+t.formValidate.time1[0]+"&endtime2="+t.formValidate.time1[1]+"&begintime="+t.formValidate.time[0]+"&endtime="+t.formValidate.time[1],target:"_blank"}},[r("Tooltip",{attrs:{content:"默认导出进30天数据",placement:"top"}},[r("Button",{attrs:{type:"dashed"}},[t._v("批量导出订单")])],1)],1)]),t._v(" "),r("ButtonGroup",["1"===t.formValidate.state?r("a",{staticStyle:{float:"right"},attrs:{href:"https://ylcgenterprise.oss-cn-shanghai.aliyuncs.com/moban1.xls",download:"muban"}},[r("Button",{attrs:{type:"dashed"}},[t._v("下载发货模板")])],1):t._e(),t._v(" "),"1"===t.formValidate.state?r("Upload",{staticStyle:{float:"right"}}):t._e()],1)],1),t._v(" "),r("Table",{attrs:{"row-class-name":t.rowClassName,loading:t.loading1,"show-header":!0,columns:t.columns,data:t.data},on:{"on-sort-change":t.sorts}}),t._v(" "),r("div",{staticStyle:{width:"100%",height:"8px",background:"#ffffff","margin-top":"-4px","z-index":"99",position:"relative"}}),t._v(" "),r("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"15px"}},[r("Page",{attrs:{total:t.total,"page-size":10,"show-elevator":"","show-total":""},on:{"on-change":t.paging}})],1)],1),t._v(" "),r("express",{ref:"express",on:{getOrder:function(e){t.getOrder(t.formValidate.state>8?"yc":"")}}}),t._v(" "),r("Modal",{attrs:{width:"660"},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[r("p",{attrs:{slot:"header"},slot:"header"},[r("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),r("span",[t._v("确认申请订单《"+t._s(t.OrderNumber)+"》的退单？")])],1),t._v(" "),r("Table",{staticStyle:{"margin-bottom":"16px"},attrs:{"show-header":!0,columns:t.columns1,data:t.OperBtn},on:{"on-selection-change":t.operChange}}),t._v(" "),r("Row",[r("Col",{attrs:{span:"24"}},[t._v("\n        退运费：\n        "),r("InputNumber",{attrs:{size:"small",max:t.ReOrder.freight,min:0,formatter:function(t){return"¥"+t},parser:function(t){return t.replace("¥","")}},model:{value:t.ReOrder.freight,callback:function(e){t.$set(t.ReOrder,"freight",e)},expression:"ReOrder.freight"}}),t._v(" "),r("p",{staticStyle:{float:"right"}},[t._v("合计退款："),r("span",{staticStyle:{color:"red","font-weight":"700","font-size":"18px"}},[t._v("¥"+t._s(t.ReOrder.total))])])],1)],1),t._v(" "),r("Row",{staticStyle:{"margin-top":"16px"}},[r("Col",{attrs:{span:"24"}},[r("Form",{attrs:{"label-width":48}},[r("FormItem",{attrs:{label:"备注："}},[r("Input",{attrs:{type:"textarea",rows:2,placeholder:"请输入退单备注..."},model:{value:t.ReOrder.remarks,callback:function(e){t.$set(t.ReOrder,"remarks",e)},expression:"ReOrder.remarks"}})],1)],1)],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"error",size:"large",long:""},on:{click:t.applyReOrder}},[t._v("申请退单")])],1)],1)],1)},staticRenderFns:[]};var m=r("VU/8")(l,d,!1,function(t){r("ZI+Q"),r("VOIv")},"data-v-722c5506",null);e.default=m.exports},lDlD:function(t,e,r){"use strict";var a={data:function(){return{model:!1,formDynamic:{items:[{Express:"",ExpressNo:""}],idstr:"",Express:[],ExpressNo:[],Description:""},ruleValidate:{Description:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]},cityList3:[]}},methods:{getRole:function(){var t=this;t.Axios.get("/Manage/Order/getExpressList").then(function(e){t.cityList3=e.data.data})},validatePass:function(t,e,r){var a=this.formDynamic.items[t.index];a.Express&&a.ExpressNo?r():r(new Error("物流信息("+(t.index+1)+")不能为空"))},handleSubmit:function(t){var e=this,r=this;for(var a in this.formDynamic.Express=[],this.formDynamic.ExpressNo=[],r.formDynamic.items)this.formDynamic.Express.push(r.formDynamic.items[a].Express),this.formDynamic.ExpressNo.push(r.formDynamic.items[a].ExpressNo);this.$refs[t].validate(function(t){t?r.Axios.post("/Manage/Order/updateOrder",r.Qs.stringify({idstr:r.formDynamic.idstr,statusid:2,Express:r.formDynamic.Express.join("，"),ExpressNo:r.formDynamic.ExpressNo.join("，"),Description:r.formDynamic.Description})).then(function(t){0===t.data.error?(r.$Message.success("发货成功"),r.$emit("getOrder"),r.model=!1):r.$Message.error(t.data.errorMsg)}):e.$Message.error("请填写物流信息！")})},handleAdd:function(){this.formDynamic.items.push({Express:"",ExpressNo:""})},handleRemove:function(t){this.formDynamic.items.length>1?this.formDynamic.items.splice(t,1):this.$Message.warning("至少填写一个物流信息！")}},mounted:function(){this.getRole()}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{attrs:{width:"360"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[r("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[r("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),r("span",[t._v("请填写发货信息")])],1),t._v(" "),r("Form",{ref:"formDynamic",staticStyle:{width:"300px"},attrs:{model:t.formDynamic,"label-width":84}},[t._l(t.formDynamic.items,function(e,a){return r("FormItem",{key:a,attrs:{label:"快递信息("+(a+1)+")",prop:"items."+a+".Express",rules:{validator:t.validatePass,required:!0,index:a,trigger:"change"}}},[r("Row",[r("Col",{attrs:{span:"18"}},[r("Select",{attrs:{placeholder:"请输入快递公司"},model:{value:e.Express,callback:function(r){t.$set(e,"Express",r)},expression:"item.Express"}},t._l(t.cityList3,function(e,a){return r("Option",{key:a,attrs:{value:e.Name}},[t._v(t._s(e.Name))])})),t._v(" "),r("Input",{attrs:{maxlength:20,type:"text",placeholder:"请输入物流单号"},model:{value:e.ExpressNo,callback:function(r){t.$set(e,"ExpressNo",r)},expression:"item.ExpressNo"}})],1),t._v(" "),r("Col",{attrs:{span:"4",offset:"1"}},[r("Button",{attrs:{size:"small"},on:{click:function(e){t.handleRemove(a)}}},[t._v("删除")])],1)],1)],1)}),t._v(" "),r("FormItem",[r("Row",[r("Col",{attrs:{span:"12"}},[r("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:t.handleAdd}},[t._v("添加快递")])],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"备注信息",prop:"Description"}},[r("Input",{attrs:{type:"textarea",placeholder:"请输入"},model:{value:t.formDynamic.Description,callback:function(e){t.$set(t.formDynamic,"Description",e)},expression:"formDynamic.Description"}})],1)],2),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formDynamic")}}},[t._v(t._s(t.$route.query.idstr?"修改":"发货"))])],1)],1)},staticRenderFns:[]},o=r("VU/8")(a,i,!1,null,null,null);e.a=o.exports},mvHQ:function(t,e,r){t.exports={default:r("qkKv"),__esModule:!0}},qkKv:function(t,e,r){var a=r("FeBl"),i=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}});
//# sourceMappingURL=3.816de673d25d1dbd2cc3.js.map