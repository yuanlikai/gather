webpackJsonp([29],{E37w:function(t,e){},vxII:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={data:function(){var t=this;return{loading1:!0,formValidate:{locked:-1,supplierNameLike:"",abbrSupplierNameLike:"",supplierNoLike:"",productCountAsc:"normal",productLimAsc:"normal",brandCountAsc:"normal"},columns:[{title:"操作",tooltip:!0,key:"ProductName",width:150,align:"center",render:function(e,a){return e("div",[e("div",[e("a",{on:{click:function(){var e=t.$router.resolve({path:"/addSupplier",query:{id:a.row.id}});window.open(e.href,"_blank")}}},"编辑"),e("Divider",{props:{type:"vertical"}}),e("a",{on:{click:function(){var e=t.$router.resolve({path:"/relevance",query:{id:a.row.id,name:a.row.supplierName}});window.open(e.href,"_blank")}}},"关联")])])}},{title:"编号",tooltip:!0,key:"supplierNo",align:"center"},{title:"名称",tooltip:!0,align:"center",key:"abbrSupplierName"},{title:"地址",tooltip:!0,align:"center",key:"supplierName"},{title:"状态",tooltip:!0,key:"locked",align:"center",render:function(e,a){return e("i-switch",{props:{value:0===a.row.locked,size:"small"},on:{"on-change":function(e){t.Axios.post("/UpdateSupLock.ashx",{id:Number(a.row.id),locked:a.row.locked?0:1}).then(function(e){console.log(e.data),0===e.data.error?t.getList():t.$Message.warning(e.data.errorMsg)})}}})}}],data:[],total:0,start:1,treeData:[],brandList:[],selection:[]}},methods:{screen:function(t){this.resetPage(),this.getList()},getList:function(){var t=this;t.loading1=!0,t.Axios.post("/GetSupListPage.ashx",{page:t.start,pagesize:10,supplierNameLike:t.formValidate.supplierNameLike,abbrSupplierNameLike:t.formValidate.abbrSupplierNameLike,supplierNoLike:t.formValidate.supplierNoLike,StatusId:t.formValidate.locked,productCountAsc:"normal"===t.formValidate.productCountAsc?"":"asc"===t.formValidate.productCountAsc?"true":"false",productLimAsc:"normal"===t.formValidate.productLimAsc?"":"asc"===t.formValidate.productLimAsc?"true":"false",brandCountAsc:"normal"===t.formValidate.brandCountAsc?"":"asc"===t.formValidate.brandCountAsc?"true":"false",recycleBin:!1}).then(function(e){t.data=e.data.data,0===e.data.error?t.total=e.data.total:t.$Message.warning(e.data.errorMsg),t.loading1=!1})},paging:function(t){this.start=t,this.getList()},handleReset:function(t){this.$refs[t].resetFields(),this.resetPage(),this.formValidate.brandId="",this.getList()},sortData:function(t){switch(this.loading1=!0,this.formValidate.productCountAsc="normal",this.formValidate.productLimAsc="normal",this.formValidate.brandCountAsc="normal",this.formValidate.productCountAsc="normal",t.key){case"productCount":this.formValidate.productCountAsc=t.order;break;case"productLim":this.formValidate.productLimAsc=t.order;break;case"brandCount":this.formValidate.brandCountAsc=t.order}this.getList()},resetPage:function(){this.start=1,this.total=0}},mounted:function(){this.getList()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("Card",{staticStyle:{border:"none",margin:"16px 0"}},[a("div",{staticClass:"ivu-page-header-title"},[t._v("发货仓设置")])]),t._v(" "),a("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      查询\n    ")]),t._v(" "),a("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":80}},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"编号：",prop:"supplierNoLike"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.supplierNoLike,callback:function(e){t.$set(t.formValidate,"supplierNoLike",e)},expression:"formValidate.supplierNoLike"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"名称：",prop:"abbrSupplierNameLike"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.abbrSupplierNameLike,callback:function(e){t.$set(t.formValidate,"abbrSupplierNameLike",e)},expression:"formValidate.abbrSupplierNameLike"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"地址：",prop:"supplierNameLike"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formValidate.supplierNameLike,callback:function(e){t.$set(t.formValidate,"supplierNameLike",e)},expression:"formValidate.supplierNameLike"}})],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:12,lg:8}},[a("FormItem",{attrs:{label:"状态：",prop:"locked"}},[a("Select",{on:{"on-change":function(e){t.resetPage(),t.getList()}},model:{value:t.formValidate.locked,callback:function(e){t.$set(t.formValidate,"locked",e)},expression:"formValidate.locked"}},[a("Option",{attrs:{value:-1}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:0}},[t._v("启用")]),t._v(" "),a("Option",{attrs:{value:1}},[t._v("停用")])],1)],1)],1),t._v(" "),a("Col",{attrs:{xs:24,md:24,lg:8}},[a("FormItem",[a("Button",{staticStyle:{"margin-right":"6px"},attrs:{icon:"ios-search-outline",type:"primary"},on:{click:function(e){t.resetPage(),t.getList()}}},[t._v("查询")]),t._v(" "),a("Button",{staticStyle:{"margin-right":"6px"},attrs:{icon:"md-refresh"},on:{click:function(e){t.handleReset("formValidate")}}},[t._v("重置")])],1)],1)],1)],1)],1),t._v(" "),a("Card",{style:{margin:"16px 20px",background:"#fff",height:"auto"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n      发货仓列表\n    ")]),t._v(" "),a("router-link",{attrs:{target:"_blank",to:{path:"/addSupplier",query:{parentId:t.$route.query.parentId,name:t.$route.query.name}}}},[a("Button",{staticStyle:{width:"100%","margin-bottom":"16px"},attrs:{type:"dashed"}},[t._v("添加")])],1),t._v(" "),a("Table",{attrs:{loading:t.loading1,"show-header":!0,columns:t.columns,data:t.data},on:{"on-sort-change":t.sortData}}),t._v(" "),a("div",{staticStyle:{width:"100%",height:"8px",background:"#ffffff","margin-top":"-4px","z-index":"99",position:"relative"}}),t._v(" "),a("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"15px"}},[a("Page",{attrs:{total:Number(t.total),"page-size":10,"show-elevator":"","show-total":""},on:{"on-change":t.paging}})],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(t){a("E37w")},"data-v-68427d04",null);e.default=i.exports}});